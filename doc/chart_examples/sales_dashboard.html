<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“Š Sales Performance Dashboard - Interactive Analytics</title>

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --panel-bg: #f8f9fa;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .control-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .stats-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .field-selector {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
        }

        .export-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .btn-outline-primary {
            color: var(--text-color);
            border-color: var(--border-color);
        }

        .btn-outline-primary:hover {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
        }

        
    </style>
</head>
<body>
    <div class="container-fluid">
        
        <div class="row mt-3">
            <div class="col-12">
                <h1 class="text-center">ðŸ“Š Sales Performance Dashboard - Interactive Analytics</h1>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="control-panel">
                    <div class="row g-3">
                        
                        <div class="col-md-2">
                            <label class="form-label">Chart Type</label>
                            <select id="chartType" class="form-select">
                                <option value="line">Line</option>
                                <option value="bar">Bar</option>
                                <option value="scatter">Scatter</option>
                                <option value="pie">Pie</option>
                                <option value="doughnut">Doughnut</option>
                                <option value="radar">Radar</option>
                            </select>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">X-Axis Field</label>
                            <select id="xField" class="form-select">
                            </select>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Y-Axis Fields</label>
                            <div id="yFields" class="field-selector">
                            </div>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">Options</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTrendLine">
                                <label class="form-check-label" for="showTrendLine">Trend Line</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showMovingAvg">
                                <label class="form-check-label" for="showMovingAvg">Moving Average</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="stackedMode">
                                <label class="form-check-label" for="stackedMode">Stacked</label>
                            </div>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Actions</label>
                            <div class="btn-group d-block" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="updateChart()">
                                    <i class="bi bi-arrow-clockwise"></i> Update
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="resetZoom()">
                                    <i class="bi bi-zoom-out"></i> Reset Zoom
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="exportChart()">
                                    <i class="bi bi-download"></i> Export
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="stats-panel">
                    <h5>Data Summary</h5>
                    <div id="dataSummary" class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        let chartData = {"records":[{"date":"2024-01-01","deals_closed":12,"product":"Software Licenses","profit":20168.97721243461,"profit_margin":17.582981935923982,"region":"North America","sales":114707.37606359676},{"date":"2024-01-01","deals_closed":14,"product":"Consulting","profit":38588.321547406114,"profit_margin":23.056282100709403,"region":"North America","sales":167365.75905366294},{"date":"2024-01-01","deals_closed":14,"product":"Support","profit":39129.9690423271,"profit_margin":26.023340669362426,"region":"North America","sales":150364.89565075425},{"date":"2024-01-01","deals_closed":24,"product":"Training","profit":34095.35429927175,"profit_margin":26.624275946074288,"region":"North America","sales":128061.1512903849},{"date":"2024-01-01","deals_closed":16,"product":"Software Licenses","profit":14518.30611020166,"profit_margin":23.91313287399058,"region":"Europe","sales":60712.68949453577},{"date":"2024-01-01","deals_closed":13,"product":"Consulting","profit":42705.29352319159,"profit_margin":29.602109958474237,"region":"Europe","sales":144264.35677422475},{"date":"2024-01-01","deals_closed":13,"product":"Support","profit":23500.8942230824,"profit_margin":25.4872389038986,"region":"Europe","sales":92206.51288158026},{"date":"2024-01-01","deals_closed":11,"product":"Training","profit":27655.228968548545,"profit_margin":27.60406971091879,"region":"Europe","sales":100185.33230123499},{"date":"2024-01-01","deals_closed":14,"product":"Software Licenses","profit":26940.42974011505,"profit_margin":29.643045967581173,"region":"Asia Pacific","sales":90882.79851395228},{"date":"2024-01-01","deals_closed":19,"product":"Consulting","profit":26601.013915787255,"profit_margin":18.560345098346517,"region":"Asia Pacific","sales":143321.7635493052},{"date":"2024-01-01","deals_closed":18,"product":"Support","profit":34982.91566995724,"profit_margin":26.421582622727712,"region":"Asia Pacific","sales":132402.8017907796},{"date":"2024-01-01","deals_closed":6,"product":"Training","profit":35603.31659504099,"profit_margin":26.340727039387147,"region":"Asia Pacific","sales":135164.51744784243},{"date":"2024-01-01","deals_closed":20,"product":"Software Licenses","profit":24072.003627680206,"profit_margin":18.73215736582828,"region":"Latin America","sales":128506.30686881278},{"date":"2024-01-01","deals_closed":6,"product":"Consulting","profit":9928.865044361224,"profit_margin":19.488598285374128,"region":"Latin America","sales":50947.045544125525},{"date":"2024-01-01","deals_closed":16,"product":"Support","profit":20381.70827126635,"profit_margin":24.32873907625978,"region":"Latin America","sales":83776.26233475874},{"date":"2024-01-01","deals_closed":16,"product":"Training","profit":15430.250083249144,"profit_margin":24.774228755627846,"region":"Latin America","sales":62283.4730213102},{"date":"2024-02-01","deals_closed":21,"product":"Software Licenses","profit":37753.627836977204,"profit_margin":26.462223189243517,"region":"North America","sales":142669.9017954148},{"date":"2024-02-01","deals_closed":22,"product":"Consulting","profit":28285.793935111844,"profit_margin":26.70918082865077,"region":"North America","sales":105902.8882861501},{"date":"2024-02-01","deals_closed":5,"product":"Support","profit":19318.37452701284,"profit_margin":20.56707253700621,"region":"North America","sales":93928.65461165366},{"date":"2024-02-01","deals_closed":22,"product":"Training","profit":35746.20529026252,"profit_margin":26.433254153311285,"region":"North America","sales":135231.95094685158},{"date":"2024-02-01","deals_closed":8,"product":"Software Licenses","profit":19245.582931219342,"profit_margin":23.715771058250613,"region":"Europe","sales":81150.98971038467},{"date":"2024-02-01","deals_closed":10,"product":"Consulting","profit":32072.429303840785,"profit_margin":25.2778722824325,"region":"Europe","sales":126879.46574573974},{"date":"2024-02-01","deals_closed":16,"product":"Support","profit":42275.9558479645,"profit_margin":28.623538394789673,"region":"Europe","sales":147696.47017386212},{"date":"2024-02-01","deals_closed":10,"product":"Training","profit":48349.56916135864,"profit_margin":28.673166796748706,"region":"Europe","sales":168623.05271017735},{"date":"2024-02-01","deals_closed":22,"product":"Software Licenses","profit":23123.476290565082,"profit_margin":26.113004276850344,"region":"Asia Pacific","sales":88551.57394151107},{"date":"2024-02-01","deals_closed":5,"product":"Consulting","profit":31846.017844386428,"profit_margin":28.809952411003948,"region":"Asia Pacific","sales":110538.2521639392},{"date":"2024-02-01","deals_closed":10,"product":"Support","profit":44006.956608969835,"profit_margin":26.83695683118198,"region":"Asia Pacific","sales":163978.9372759208},{"date":"2024-02-01","deals_closed":5,"product":"Training","profit":33938.78965571938,"profit_margin":28.30560321667248,"region":"Asia Pacific","sales":119901.31210391891},{"date":"2024-02-01","deals_closed":6,"product":"Software Licenses","profit":23972.653282091946,"profit_margin":15.470096034209535,"region":"Latin America","sales":154961.24412596034},{"date":"2024-02-01","deals_closed":21,"product":"Consulting","profit":20740.485056450696,"profit_margin":17.05728738361703,"region":"Latin America","sales":121593.10322912925},{"date":"2024-02-01","deals_closed":23,"product":"Support","profit":53701.15841389303,"profit_margin":28.680131562866805,"region":"Latin America","sales":187241.6738960216},{"date":"2024-02-01","deals_closed":20,"product":"Training","profit":33715.21959905186,"profit_margin":25.674147092193923,"region":"Latin America","sales":131319.7259405855},{"date":"2024-03-01","deals_closed":5,"product":"Software Licenses","profit":21739.30480114249,"profit_margin":21.252913410214667,"region":"North America","sales":102288.58689413402},{"date":"2024-03-01","deals_closed":10,"product":"Consulting","profit":38132.21543252822,"profit_margin":24.33673874683644,"region":"North America","sales":156685.8067105851},{"date":"2024-03-01","deals_closed":16,"product":"Support","profit":36517.860825230906,"profit_margin":17.123035315143444,"region":"North America","sales":213267.45026879007},{"date":"2024-03-01","deals_closed":15,"product":"Training","profit":25439.23014211215,"profit_margin":29.54350942601829,"region":"North America","sales":86107.67859456941},{"date":"2024-03-01","deals_closed":24,"product":"Software Licenses","profit":21858.069548267766,"profit_margin":20.242377731930457,"region":"Europe","sales":107981.7294081451},{"date":"2024-03-01","deals_closed":18,"product":"Consulting","profit":29028.299693125307,"profit_margin":26.4679189961677,"region":"Europe","sales":109673.52475775797},{"date":"2024-03-01","deals_closed":6,"product":"Support","profit":20023.66010864632,"profit_margin":23.45322847370619,"region":"Europe","sales":85376.98820908679},{"date":"2024-03-01","deals_closed":17,"product":"Training","profit":28847.844148200744,"profit_margin":29.094572667648844,"region":"Europe","sales":99151.97751049134},{"date":"2024-03-01","deals_closed":20,"product":"Software Licenses","profit":12696.23501598306,"profit_margin":16.123767394280375,"region":"Asia Pacific","sales":78742.36030275919},{"date":"2024-03-01","deals_closed":24,"product":"Consulting","profit":46184.17255218049,"profit_margin":26.898186853691097,"region":"Asia Pacific","sales":171699.94692725127},{"date":"2024-03-01","deals_closed":5,"product":"Support","profit":37299.23773314187,"profit_margin":20.309759796863077,"region":"Asia Pacific","sales":183651.79158299492},{"date":"2024-03-01","deals_closed":7,"product":"Training","profit":22427.288878691277,"profit_margin":19.12270387055637,"region":"Asia Pacific","sales":117280.95059414189},{"date":"2024-03-01","deals_closed":9,"product":"Software Licenses","profit":20095.85874625197,"profit_margin":22.326032767025243,"region":"Latin America","sales":90010.88082219801},{"date":"2024-03-01","deals_closed":19,"product":"Consulting","profit":16975.133572073126,"profit_margin":23.221928606479686,"region":"Latin America","sales":73099.58556730943},{"date":"2024-03-01","deals_closed":19,"product":"Support","profit":27765.381331604807,"profit_margin":21.425914753934006,"region":"Latin America","sales":129587.8456088173},{"date":"2024-03-01","deals_closed":14,"product":"Training","profit":22505.01325518951,"profit_margin":16.29850589654856,"region":"Latin America","sales":138080.22280100698},{"date":"2024-04-01","deals_closed":10,"product":"Software Licenses","profit":34912.77096331498,"profit_margin":19.22424963192533,"region":"North America","sales":181607.9775895962},{"date":"2024-04-01","deals_closed":23,"product":"Consulting","profit":42549.760672860844,"profit_margin":23.84401200792339,"region":"North America","sales":178450.5084912787},{"date":"2024-04-01","deals_closed":13,"product":"Support","profit":12370.788571114423,"profit_margin":19.08657481608362,"region":"North America","sales":64814.083670423526},{"date":"2024-04-01","deals_closed":22,"product":"Training","profit":14417.984930413106,"profit_margin":18.162205247980832,"region":"North America","sales":79384.55013339315},{"date":"2024-04-01","deals_closed":20,"product":"Software Licenses","profit":19341.254912679695,"profit_margin":24.373694950855718,"region":"Europe","sales":79352.98670011728},{"date":"2024-04-01","deals_closed":10,"product":"Consulting","profit":12599.895408724084,"profit_margin":21.28402790840596,"region":"Europe","sales":59198.82957749671},{"date":"2024-04-01","deals_closed":11,"product":"Support","profit":19345.86406096886,"profit_margin":15.43861642521979,"region":"Europe","sales":125308.27587222372},{"date":"2024-04-01","deals_closed":17,"product":"Training","profit":27398.097753390884,"profit_margin":19.574218876754806,"region":"Europe","sales":139970.3248742521},{"date":"2024-04-01","deals_closed":8,"product":"Software Licenses","profit":16450.812688112892,"profit_margin":25.077439444111594,"region":"Asia Pacific","sales":65600.04949777953},{"date":"2024-04-01","deals_closed":16,"product":"Consulting","profit":17457.713674309703,"profit_margin":20.708392118130494,"region":"Asia Pacific","sales":84302.60338283447},{"date":"2024-04-01","deals_closed":7,"product":"Support","profit":15509.576733941409,"profit_margin":21.918080160914318,"region":"Asia Pacific","sales":70761.56588567939},{"date":"2024-04-01","deals_closed":16,"product":"Training","profit":39257.53407293524,"profit_margin":26.685340297623583,"region":"Asia Pacific","sales":147112.73543860804},{"date":"2024-04-01","deals_closed":7,"product":"Software Licenses","profit":38486.412338750255,"profit_margin":28.55156070347413,"region":"Latin America","sales":134796.1771283041},{"date":"2024-04-01","deals_closed":21,"product":"Consulting","profit":58311.56208442369,"profit_margin":28.12984042169553,"region":"Latin America","sales":207294.32236469458},{"date":"2024-04-01","deals_closed":12,"product":"Support","profit":24543.49475110471,"profit_margin":26.258806291702204,"region":"Latin America","sales":93467.6712964689},{"date":"2024-04-01","deals_closed":19,"product":"Training","profit":19964.89401372311,"profit_margin":22.086496978797328,"region":"Latin America","sales":90394.11742336994},{"date":"2024-05-01","deals_closed":19,"product":"Software Licenses","profit":40728.198487971524,"profit_margin":18.88312991474034,"region":"North America","sales":215685.6340652443},{"date":"2024-05-01","deals_closed":16,"product":"Consulting","profit":34310.305547838914,"profit_margin":15.160152320020822,"region":"North America","sales":226319.00276178616},{"date":"2024-05-01","deals_closed":20,"product":"Support","profit":21398.416918572777,"profit_margin":18.173370226092416,"region":"North America","sales":117746.00226792277},{"date":"2024-05-01","deals_closed":20,"product":"Training","profit":14137.709759414189,"profit_margin":23.714735576208625,"region":"North America","sales":59615.71746807747},{"date":"2024-05-01","deals_closed":22,"product":"Software Licenses","profit":22944.642633402073,"profit_margin":21.116593189546993,"region":"Europe","sales":108656.93356615872},{"date":"2024-05-01","deals_closed":22,"product":"Consulting","profit":34761.568641522346,"profit_margin":18.56134531770098,"region":"Europe","sales":187279.3595859243},{"date":"2024-05-01","deals_closed":12,"product":"Support","profit":44423.407955060226,"profit_margin":24.423500766535707,"region":"Europe","sales":181887.96266228857},{"date":"2024-05-01","deals_closed":19,"product":"Training","profit":27065.63081468628,"profit_margin":26.294139982027165,"region":"Europe","sales":102934.07897419902},{"date":"2024-05-01","deals_closed":10,"product":"Software Licenses","profit":20200.00451144509,"profit_margin":28.1464188007912,"region":"Asia Pacific","sales":71767.58313166742},{"date":"2024-05-01","deals_closed":5,"product":"Consulting","profit":16730.178553389207,"profit_margin":22.939214831656034,"region":"Asia Pacific","sales":72932.65561252611},{"date":"2024-05-01","deals_closed":24,"product":"Support","profit":44020.572218175184,"profit_margin":29.784723592329488,"region":"Asia Pacific","sales":147795.80573147195},{"date":"2024-05-01","deals_closed":10,"product":"Training","profit":32628.68142990532,"profit_margin":19.27102861538958,"region":"Asia Pacific","sales":169314.68517382877},{"date":"2024-05-01","deals_closed":11,"product":"Software Licenses","profit":45169.858289596974,"profit_margin":28.43953580187195,"region":"Latin America","sales":158827.69185924545},{"date":"2024-05-01","deals_closed":16,"product":"Consulting","profit":36938.93135878945,"profit_margin":28.326145670605175,"region":"Latin America","sales":130405.78054049198},{"date":"2024-05-01","deals_closed":15,"product":"Support","profit":34346.4570849215,"profit_margin":24.96023864058661,"region":"Latin America","sales":137604.68230889598},{"date":"2024-05-01","deals_closed":21,"product":"Training","profit":20674.76325450336,"profit_margin":23.597877315577332,"region":"Latin America","sales":87612.80931338524},{"date":"2024-06-01","deals_closed":22,"product":"Software Licenses","profit":21622.187667424845,"profit_margin":19.113554507991353,"region":"North America","sales":113124.89081183009},{"date":"2024-06-01","deals_closed":22,"product":"Consulting","profit":19523.32442601457,"profit_margin":27.932723146205152,"region":"North America","sales":69894.09633935725},{"date":"2024-06-01","deals_closed":10,"product":"Support","profit":40481.44395098663,"profit_margin":24.64022407248855,"region":"North America","sales":164290.080446895},{"date":"2024-06-01","deals_closed":17,"product":"Training","profit":23842.87526683535,"profit_margin":16.004538039015994,"region":"North America","sales":148975.71681676156},{"date":"2024-06-01","deals_closed":8,"product":"Software Licenses","profit":17567.41581651753,"profit_margin":15.493870594345704,"region":"Europe","sales":113383.00335959007},{"date":"2024-06-01","deals_closed":21,"product":"Consulting","profit":16154.438901685602,"profit_margin":18.50490227222491,"region":"Europe","sales":87298.15842331004},{"date":"2024-06-01","deals_closed":19,"product":"Support","profit":35196.085035662014,"profit_margin":20.906210635245472,"region":"Europe","sales":168352.2932478517},{"date":"2024-06-01","deals_closed":10,"product":"Training","profit":23770.265366535838,"profit_margin":15.108279157910538,"region":"Europe","sales":157332.71220428817},{"date":"2024-06-01","deals_closed":19,"product":"Software Licenses","profit":39006.91819772959,"profit_margin":20.620321045919532,"region":"Asia Pacific","sales":189167.3660699308},{"date":"2024-06-01","deals_closed":19,"product":"Consulting","profit":19893.627622258722,"profit_margin":22.765318680213035,"region":"Asia Pacific","sales":87385.67600000124},{"date":"2024-06-01","deals_closed":14,"product":"Support","profit":15808.114469103059,"profit_margin":26.37602427584112,"region":"Asia Pacific","sales":59933.6515002466},{"date":"2024-06-01","deals_closed":24,"product":"Training","profit":14638.426446468065,"profit_margin":23.128175028495342,"region":"Asia Pacific","sales":63292.61356952124},{"date":"2024-06-01","deals_closed":16,"product":"Software Licenses","profit":31080.842058094284,"profit_margin":28.88762449439668,"region":"Latin America","sales":107592.23924460463},{"date":"2024-06-01","deals_closed":22,"product":"Consulting","profit":24890.940966974264,"profit_margin":19.04856579346251,"region":"Latin America","sales":130670.94518746845},{"date":"2024-06-01","deals_closed":17,"product":"Support","profit":28823.434136808304,"profit_margin":16.059136653889368,"region":"Latin America","sales":179483.08653209914},{"date":"2024-06-01","deals_closed":6,"product":"Training","profit":13780.945330908095,"profit_margin":19.201599199952884,"region":"Latin America","sales":71769.77910747095},{"date":"2024-07-01","deals_closed":13,"product":"Software Licenses","profit":25839.816957790765,"profit_margin":29.768953503374718,"region":"North America","sales":86801.22717401359},{"date":"2024-07-01","deals_closed":22,"product":"Consulting","profit":43137.177682767215,"profit_margin":29.68819957138797,"region":"North America","sales":145300.75351669596},{"date":"2024-07-01","deals_closed":7,"product":"Support","profit":11338.159476117014,"profit_margin":20.632388829879215,"region":"North America","sales":54953.20764650106},{"date":"2024-07-01","deals_closed":9,"product":"Training","profit":15230.713797322296,"profit_margin":27.480962892106405,"region":"North America","sales":55422.78069775039},{"date":"2024-07-01","deals_closed":8,"product":"Software Licenses","profit":36280.60261572633,"profit_margin":22.37559940395068,"region":"Europe","sales":162143.60098581563},{"date":"2024-07-01","deals_closed":13,"product":"Consulting","profit":21599.78894508545,"profit_margin":19.860993765676426,"region":"Europe","sales":108754.82465743477},{"date":"2024-07-01","deals_closed":11,"product":"Support","profit":17458.525603775415,"profit_margin":25.773352248476662,"region":"Europe","sales":67738.66835582982},{"date":"2024-07-01","deals_closed":9,"product":"Training","profit":28318.677714938956,"profit_margin":23.072499771520917,"region":"Europe","sales":122737.79605751066},{"date":"2024-07-01","deals_closed":23,"product":"Software Licenses","profit":23215.885569032707,"profit_margin":25.965919072125242,"region":"Asia Pacific","sales":89409.06541588689},{"date":"2024-07-01","deals_closed":7,"product":"Consulting","profit":26412.904968492934,"profit_margin":24.30925067258277,"region":"Asia Pacific","sales":108653.71921267311},{"date":"2024-07-01","deals_closed":6,"product":"Support","profit":28032.604067024196,"profit_margin":28.583717711930866,"region":"Asia Pacific","sales":98071.93154347227},{"date":"2024-07-01","deals_closed":19,"product":"Training","profit":28569.47667779712,"profit_margin":24.839521620071295,"region":"Asia Pacific","sales":115016.21132152512},{"date":"2024-07-01","deals_closed":21,"product":"Software Licenses","profit":25794.36960838901,"profit_margin":29.33855222531851,"region":"Latin America","sales":87919.70854693044},{"date":"2024-07-01","deals_closed":18,"product":"Consulting","profit":16163.21890402176,"profit_margin":28.984539527030655,"region":"Latin America","sales":55764.96700576569},{"date":"2024-07-01","deals_closed":8,"product":"Support","profit":15572.509069520938,"profit_margin":21.949976970948992,"region":"Latin America","sales":70945.4460482182},{"date":"2024-07-01","deals_closed":18,"product":"Training","profit":18838.73136472833,"profit_margin":21.660903387218234,"region":"Latin America","sales":86971.12501708852},{"date":"2024-08-01","deals_closed":23,"product":"Software Licenses","profit":11861.587394959068,"profit_margin":18.095996912340674,"region":"North America","sales":65548.12897249107},{"date":"2024-08-01","deals_closed":22,"product":"Consulting","profit":43024.115348463616,"profit_margin":28.31164844655746,"region":"North America","sales":151966.12599113816},{"date":"2024-08-01","deals_closed":14,"product":"Support","profit":37971.69825731759,"profit_margin":27.81544242596729,"region":"North America","sales":136513.01200181112},{"date":"2024-08-01","deals_closed":6,"product":"Training","profit":17425.75144214321,"profit_margin":24.7383607917398,"region":"North America","sales":70440.20252126694},{"date":"2024-08-01","deals_closed":6,"product":"Software Licenses","profit":31327.39918731649,"profit_margin":24.329516086589358,"region":"Europe","sales":128762.93583407697},{"date":"2024-08-01","deals_closed":22,"product":"Consulting","profit":14968.186154492312,"profit_margin":17.508677344290703,"region":"Europe","sales":85490.1021942311},{"date":"2024-08-01","deals_closed":5,"product":"Support","profit":14648.891017419157,"profit_margin":21.68741014947099,"region":"Europe","sales":67545.5986512824},{"date":"2024-08-01","deals_closed":16,"product":"Training","profit":12371.447967586733,"profit_margin":16.731644240902956,"region":"Europe","sales":73940.41965907281},{"date":"2024-08-01","deals_closed":10,"product":"Software Licenses","profit":27798.781485466465,"profit_margin":28.409717394203692,"region":"Asia Pacific","sales":97849.55302349514},{"date":"2024-08-01","deals_closed":5,"product":"Consulting","profit":33984.44466536509,"profit_margin":27.133021267020403,"region":"Asia Pacific","sales":125251.23660545847},{"date":"2024-08-01","deals_closed":24,"product":"Support","profit":18464.1234440045,"profit_margin":15.702883278445237,"region":"Asia Pacific","sales":117584.28765339876},{"date":"2024-08-01","deals_closed":10,"product":"Training","profit":42884.86547107525,"profit_margin":29.556261697996057,"region":"Asia Pacific","sales":145095.7022551431},{"date":"2024-08-01","deals_closed":20,"product":"Software Licenses","profit":24057.29728259905,"profit_margin":19.539985892943847,"region":"Latin America","sales":123118.2940172258},{"date":"2024-08-01","deals_closed":12,"product":"Consulting","profit":25435.260285653338,"profit_margin":16.095443353157997,"region":"Latin America","sales":158027.70838656535},{"date":"2024-08-01","deals_closed":16,"product":"Support","profit":22726.526444124458,"profit_margin":20.933691983762785,"region":"Latin America","sales":108564.34909691174},{"date":"2024-08-01","deals_closed":5,"product":"Training","profit":12266.576692473927,"profit_margin":15.475944251672544,"region":"Latin America","sales":79262.21814315616},{"date":"2024-09-01","deals_closed":20,"product":"Software Licenses","profit":28230.922930044024,"profit_margin":29.63051061308772,"region":"North America","sales":95276.53201350672},{"date":"2024-09-01","deals_closed":5,"product":"Consulting","profit":41395.724310306774,"profit_margin":27.949426008122025,"region":"North America","sales":148109.38978953374},{"date":"2024-09-01","deals_closed":21,"product":"Support","profit":10452.644516769287,"profit_margin":23.23262756176345,"region":"North America","sales":44991.22834462504},{"date":"2024-09-01","deals_closed":15,"product":"Training","profit":23434.20152469722,"profit_margin":19.88593779715388,"region":"North America","sales":117843.07968644644},{"date":"2024-09-01","deals_closed":24,"product":"Software Licenses","profit":12674.386611875409,"profit_margin":20.85577743781723,"region":"Europe","sales":60771.58547392857},{"date":"2024-09-01","deals_closed":5,"product":"Consulting","profit":21938.05933390917,"profit_margin":20.2854444037048,"region":"Europe","sales":108146.80170330674},{"date":"2024-09-01","deals_closed":8,"product":"Support","profit":18125.366911022098,"profit_margin":19.82723607154334,"region":"Europe","sales":91416.5083101834},{"date":"2024-09-01","deals_closed":5,"product":"Training","profit":9561.342324754292,"profit_margin":17.300256389455836,"region":"Europe","sales":55267.05564075769},{"date":"2024-09-01","deals_closed":17,"product":"Software Licenses","profit":16253.623773720761,"profit_margin":19.949672489600417,"region":"Asia Pacific","sales":81473.13587325119},{"date":"2024-09-01","deals_closed":22,"product":"Consulting","profit":31206.88437452457,"profit_margin":29.16453293165855,"region":"Asia Pacific","sales":107002.86010975},{"date":"2024-09-01","deals_closed":18,"product":"Support","profit":9948.212903133333,"profit_margin":15.385238750561209,"region":"Asia Pacific","sales":64660.76389468088},{"date":"2024-09-01","deals_closed":13,"product":"Training","profit":26054.30039583543,"profit_margin":22.844265055089487,"region":"Asia Pacific","sales":114051.82146593409},{"date":"2024-09-01","deals_closed":5,"product":"Software Licenses","profit":18508.096131510487,"profit_margin":25.80409497299388,"region":"Latin America","sales":71725.42246058519},{"date":"2024-09-01","deals_closed":22,"product":"Consulting","profit":15395.532761581953,"profit_margin":27.317338696017107,"region":"Latin America","sales":56358.098908905195},{"date":"2024-09-01","deals_closed":12,"product":"Support","profit":32423.23314988393,"profit_margin":28.927948825697346,"region":"Latin America","sales":112082.72437581763},{"date":"2024-09-01","deals_closed":17,"product":"Training","profit":20306.15815523846,"profit_margin":21.34971421967185,"region":"Latin America","sales":95112.08415393285},{"date":"2024-10-01","deals_closed":17,"product":"Software Licenses","profit":29832.89100257034,"profit_margin":28.733215971341373,"region":"North America","sales":103827.19091495288},{"date":"2024-10-01","deals_closed":7,"product":"Consulting","profit":20091.371447445268,"profit_margin":16.960188490128854,"region":"North America","sales":118461.95848082007},{"date":"2024-10-01","deals_closed":13,"product":"Support","profit":18390.57729943022,"profit_margin":17.05583193949877,"region":"North America","sales":107825.74174432605},{"date":"2024-10-01","deals_closed":19,"product":"Training","profit":6222.283771528129,"profit_margin":18.69843074765652,"region":"North America","sales":33277.03728457518},{"date":"2024-10-01","deals_closed":5,"product":"Software Licenses","profit":21472.69307722529,"profit_margin":20.282575206417714,"region":"Europe","sales":105867.68622177228},{"date":"2024-10-01","deals_closed":11,"product":"Consulting","profit":14728.893668922687,"profit_margin":25.274323169425937,"region":"Europe","sales":58276.115131502556},{"date":"2024-10-01","deals_closed":23,"product":"Support","profit":15910.706766123487,"profit_margin":18.996360954532467,"region":"Europe","sales":83756.60372113137},{"date":"2024-10-01","deals_closed":18,"product":"Training","profit":10487.59772678279,"profit_margin":18.967340904318274,"region":"Europe","sales":55292.92577008034},{"date":"2024-10-01","deals_closed":9,"product":"Software Licenses","profit":18810.16899799668,"profit_margin":17.783809980862582,"region":"Asia Pacific","sales":105771.3111995606},{"date":"2024-10-01","deals_closed":8,"product":"Consulting","profit":11546.666151273774,"profit_margin":21.624595274912682,"region":"Asia Pacific","sales":53395.987321295186},{"date":"2024-10-01","deals_closed":10,"product":"Support","profit":31310.045869043093,"profit_margin":28.74483540575427,"region":"Asia Pacific","sales":108924.07428005418},{"date":"2024-10-01","deals_closed":18,"product":"Training","profit":11611.153588794317,"profit_margin":24.13416859974466,"region":"Asia Pacific","sales":48110.84973077201},{"date":"2024-10-01","deals_closed":18,"product":"Software Licenses","profit":16277.528897133814,"profit_margin":16.68468897394037,"region":"Latin America","sales":97559.67835275504},{"date":"2024-10-01","deals_closed":12,"product":"Consulting","profit":16384.692297544883,"profit_margin":25.04298225814282,"region":"Latin America","sales":65426.28241577473},{"date":"2024-10-01","deals_closed":10,"product":"Support","profit":11033.048713595615,"profit_margin":23.48117812873172,"region":"Latin America","sales":46986.77661362956},{"date":"2024-10-01","deals_closed":12,"product":"Training","profit":18365.040538544315,"profit_margin":27.12621690496685,"region":"Latin America","sales":67702.1812620751},{"date":"2024-11-01","deals_closed":24,"product":"Software Licenses","profit":35188.857174047866,"profit_margin":27.37263477433345,"region":"North America","sales":128554.8777607754},{"date":"2024-11-01","deals_closed":15,"product":"Consulting","profit":22683.0759288866,"profit_margin":22.341787006666884,"region":"North America","sales":101527.58112910965},{"date":"2024-11-01","deals_closed":19,"product":"Support","profit":19484.505666103236,"profit_margin":28.260816667864084,"region":"North America","sales":68945.30294398547},{"date":"2024-11-01","deals_closed":10,"product":"Training","profit":15735.78679662525,"profit_margin":25.398444382456347,"region":"North America","sales":61955.710986356884},{"date":"2024-11-01","deals_closed":13,"product":"Software Licenses","profit":12252.048404190191,"profit_margin":23.669135528352946,"region":"Europe","sales":51763.818706068174},{"date":"2024-11-01","deals_closed":21,"product":"Consulting","profit":29663.93347443543,"profit_margin":24.243808036328957,"region":"Europe","sales":122356.74127589405},{"date":"2024-11-01","deals_closed":11,"product":"Support","profit":17123.920545437737,"profit_margin":15.754349643186801,"region":"Europe","sales":108693.28746200087},{"date":"2024-11-01","deals_closed":17,"product":"Training","profit":36200.44974113984,"profit_margin":28.14920095813158,"region":"Europe","sales":128602.05088941417},{"date":"2024-11-01","deals_closed":9,"product":"Software Licenses","profit":9753.742103551373,"profit_margin":20.411599324157272,"region":"Asia Pacific","sales":47785.29084689483},{"date":"2024-11-01","deals_closed":17,"product":"Consulting","profit":14555.892296775233,"profit_margin":16.59526225811141,"region":"Asia Pacific","sales":87711.13146862517},{"date":"2024-11-01","deals_closed":11,"product":"Support","profit":23970.300506900352,"profit_margin":19.824930780555476,"region":"Asia Pacific","sales":120909.88247187577},{"date":"2024-11-01","deals_closed":11,"product":"Training","profit":41509.72414811248,"profit_margin":29.265970395983643,"region":"Asia Pacific","sales":141836.14480047833},{"date":"2024-11-01","deals_closed":8,"product":"Software Licenses","profit":8721.356836838506,"profit_margin":19.612803845481526,"region":"Latin America","sales":44467.66971999145},{"date":"2024-11-01","deals_closed":22,"product":"Consulting","profit":19332.205301733524,"profit_margin":27.98460980432438,"region":"Latin America","sales":69081.56103268653},{"date":"2024-11-01","deals_closed":13,"product":"Support","profit":11637.514800968213,"profit_margin":25.95316710533549,"region":"Latin America","sales":44840.44183792796},{"date":"2024-11-01","deals_closed":19,"product":"Training","profit":13358.22735929876,"profit_margin":27.501201522587778,"region":"Latin America","sales":48573.24996628654},{"date":"2024-12-01","deals_closed":12,"product":"Software Licenses","profit":18661.58588538381,"profit_margin":23.289463853593404,"region":"North America","sales":80128.8771725179},{"date":"2024-12-01","deals_closed":5,"product":"Consulting","profit":27634.979518076365,"profit_margin":29.700985062394547,"region":"North America","sales":93043.98308683027},{"date":"2024-12-01","deals_closed":11,"product":"Support","profit":42587.407379570934,"profit_margin":28.597073254353194,"region":"North America","sales":148922.25858493423},{"date":"2024-12-01","deals_closed":7,"product":"Training","profit":33365.20109118596,"profit_margin":27.402052737428427,"region":"North America","sales":121761.68483032104},{"date":"2024-12-01","deals_closed":5,"product":"Software Licenses","profit":23555.07122555107,"profit_margin":21.966200106141972,"region":"Europe","sales":107233.25432588057},{"date":"2024-12-01","deals_closed":11,"product":"Consulting","profit":7691.4211782007815,"profit_margin":15.377897321766676,"region":"Europe","sales":50016.07838357682},{"date":"2024-12-01","deals_closed":8,"product":"Support","profit":14121.65697050303,"profit_margin":27.09178759265119,"region":"Europe","sales":52125.23139053997},{"date":"2024-12-01","deals_closed":18,"product":"Training","profit":24723.689430007755,"profit_margin":17.60489187261325,"region":"Europe","sales":140436.47418515952},{"date":"2024-12-01","deals_closed":21,"product":"Software Licenses","profit":21138.06318427995,"profit_margin":20.21032860129271,"region":"Asia Pacific","sales":104590.39831211798},{"date":"2024-12-01","deals_closed":12,"product":"Consulting","profit":24529.64823034047,"profit_margin":18.721497151031155,"region":"Asia Pacific","sales":131023.96689994106},{"date":"2024-12-01","deals_closed":8,"product":"Support","profit":16615.3765431139,"profit_margin":21.567694906120387,"region":"Asia Pacific","sales":77038.25844828165},{"date":"2024-12-01","deals_closed":7,"product":"Training","profit":36012.30794333862,"profit_margin":29.100444090919325,"region":"Asia Pacific","sales":123751.74698648712},{"date":"2024-12-01","deals_closed":21,"product":"Software Licenses","profit":37660.16730841876,"profit_margin":28.491402359007058,"region":"Latin America","sales":132180.81312348304},{"date":"2024-12-01","deals_closed":23,"product":"Consulting","profit":12983.034053554136,"profit_margin":21.229222859046683,"region":"Latin America","sales":61156.42640221052},{"date":"2024-12-01","deals_closed":16,"product":"Support","profit":24191.53918052703,"profit_margin":17.685329138783217,"region":"Latin America","sales":136788.74162130212},{"date":"2024-12-01","deals_closed":17,"product":"Training","profit":34682.47391520242,"profit_margin":28.097776927473493,"region":"Latin America","sales":123434.93937162882}],"fields":["date","deals_closed","product","profit","profit_margin","region","sales"],"numericFields":["deals_closed","profit","profit_margin","sales"],"dateFields":["date"],"categories":{"product":["Software Licenses","Consulting","Support","Training"],"region":["North America","Europe","Asia Pacific","Latin America"]},"summary":{"recordCount":192,"fieldTypes":{"date":"date","deals_closed":"numeric","product":"string","profit":"numeric","profit_margin":"numeric","region":"string","sales":"numeric"},"numericStats":{"deals_closed":{"min":5,"max":24,"mean":14.348958333333334,"stdDev":5.896511941953241,"count":192},"profit":{"min":6222.283771528129,"max":58311.56208442369,"mean":24959.053695839528,"stdDev":10334.018417477804,"count":192},"profit_margin":{"min":15.108279157910538,"max":29.784723592329488,"mean":23.171591120837956,"stdDev":4.349190190635155,"count":192},"sales":{"min":33277.03728457518,"max":226319.00276178616,"mean":107790.17352235744,"stdDev":39785.016998180916,"count":192}}}};
        let chartConfig = {"title":"ðŸ“Š Sales Performance Dashboard - Interactive Analytics","width":1400,"height":700,"chartType":"line","timeFormat":"","xAxisType":"category","yAxisType":"linear","showLegend":true,"showTooltips":true,"enableZoom":true,"enablePan":true,"enableAnimations":true,"showDataLabels":false,"enableInteractive":true,"enableCalculations":true,"colorScheme":"vibrant","theme":"light","exportFormats":["png","csv"],"customCSS":"","fields":{}};
        let mainChart = null;

        
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            createChart();
            updateDataSummary();
        });

        
        function initializeControls() {
            
            const xFieldSelect = document.getElementById('xField');
            const yFieldsDiv = document.getElementById('yFields');

            chartData.fields.forEach(field => {
                
                const option = document.createElement('option');
                option.value = field;
                option.textContent = field;
                xFieldSelect.appendChild(option);

                
                const checkDiv = document.createElement('div');
                checkDiv.className = 'form-check';
                checkDiv.innerHTML = `
                    <input class="form-check-input" type="checkbox" id="y_${field}" value="${field}">
                    <label class="form-check-label" for="y_${field}">${field}</label>
                `;
                yFieldsDiv.appendChild(checkDiv);
            });

            
            if (chartData.fields.length > 0) {
                xFieldSelect.value = chartData.fields[0];
            }

            
            chartData.numericFields.forEach(field => {
                const checkbox = document.getElementById(`y_${field}`);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });

            
            document.getElementById('chartType').value = chartConfig.chartType;
        }

        
        function createChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');

            if (mainChart) {
                mainChart.destroy();
            }

            const chartType = document.getElementById('chartType').value;
            const xField = document.getElementById('xField').value;
            const selectedYFields = getSelectedYFields();
            const showTrendLine = document.getElementById('showTrendLine').checked;
            const showMovingAvg = document.getElementById('showMovingAvg').checked;
            const stackedMode = document.getElementById('stackedMode').checked;

            
            const labels = chartData.records.map(record => record[xField]);
            const datasets = [];

            
            const colors = generateColors(selectedYFields.length);

            selectedYFields.forEach((field, index) => {
                const data = chartData.records.map(record => {
                    const value = record[field];
                    return typeof value === 'number' ? value : parseFloat(value) || 0;
                });

                datasets.push({
                    label: field,
                    data: data,
                    backgroundColor: colors[index] + '80', 
                    borderColor: colors[index],
                    borderWidth: 2,
                    fill: chartType === 'area',
                    tension: 0.4
                });

                
                if (showMovingAvg && data.length > 5) {
                    const movingAvgData = calculateMovingAverage(data, 5);
                    datasets.push({
                        label: `${field} (5-period MA)`,
                        data: movingAvgData,
                        backgroundColor: 'transparent',
                        borderColor: colors[index],
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.1,
                        pointRadius: 0
                    });
                }
            });

            
            const config = {
                type: chartType,
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: chartData.dateFields.includes(xField) ? 'time' : 'category',
                            title: {
                                display: true,
                                text: xField
                            }
                        },
                        y: {
                            stacked: stackedMode,
                            title: {
                                display: true,
                                text: 'Values'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: chartConfig.showLegend
                        },
                        tooltip: {
                            enabled: chartConfig.showTooltips,
                            mode: 'index',
                            intersect: false
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: chartConfig.enableZoom
                                },
                                pinch: {
                                    enabled: chartConfig.enableZoom
                                },
                                mode: 'x'
                            },
                            pan: {
                                enabled: chartConfig.enablePan,
                                mode: 'x'
                            }
                        }
                    },
                    animation: {
                        duration: chartConfig.enableAnimations ? 1000 : 0
                    }
                }
            };

            mainChart = new Chart(ctx, config);
        }

        
        function getSelectedYFields() {
            const checkboxes = document.querySelectorAll('#yFields input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function generateColors(count) {
            const colors = [
                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#36A2EB'
            ];

            const result = [];
            for (let i = 0; i < count; i++) {
                result.push(colors[i % colors.length]);
            }
            return result;
        }

        function calculateMovingAverage(data, period) {
            const result = [];
            for (let i = 0; i < data.length; i++) {
                if (i < period - 1) {
                    result.push(null);
                } else {
                    const sum = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b, 0);
                    result.push(sum / period);
                }
            }
            return result;
        }

        function updateChart() {
            createChart();
        }

        function resetZoom() {
            if (mainChart) {
                mainChart.resetZoom();
            }
        }

        function exportChart() {
            if (mainChart) {
                const url = mainChart.toBase64Image();
                const link = document.createElement('a');
                link.download = 'chart.png';
                link.href = url;
                link.click();
            }
        }

        function updateDataSummary() {
            const summaryDiv = document.getElementById('dataSummary');
            let html = `
                <div class="col-md-3">
                    <strong>Records:</strong> ${chartData.summary.recordCount}
                </div>
                <div class="col-md-3">
                    <strong>Fields:</strong> ${chartData.fields.length}
                </div>
                <div class="col-md-3">
                    <strong>Numeric Fields:</strong> ${chartData.numericFields.length}
                </div>
                <div class="col-md-3">
                    <strong>Date Fields:</strong> ${chartData.dateFields.length}
                </div>
            `;

            
            for (const [field, stats] of Object.entries(chartData.summary.numericStats)) {
                html += `
                    <div class="col-md-12 mt-2">
                        <small><strong>${field}:</strong>
                        Min: ${stats.min.toFixed(2)},
                        Max: ${stats.max.toFixed(2)},
                        Mean: ${stats.mean.toFixed(2)},
                        StdDev: ${stats.stdDev.toFixed(2)}
                        </small>
                    </div>
                `;
            }

            summaryDiv.innerHTML = html;
        }
    </script>
</body>
</html>