<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“Š Sales Performance Dashboard - Interactive Analytics</title>

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --panel-bg: #f8f9fa;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .control-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .stats-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .field-selector {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
        }

        .export-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .btn-outline-primary {
            color: var(--text-color);
            border-color: var(--border-color);
        }

        .btn-outline-primary:hover {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
        }

        
    </style>
</head>
<body>
    <div class="container-fluid">
        
        <div class="row mt-3">
            <div class="col-12">
                <h1 class="text-center">ðŸ“Š Sales Performance Dashboard - Interactive Analytics</h1>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="control-panel">
                    <div class="row g-3">
                        
                        <div class="col-md-2">
                            <label class="form-label">Chart Type</label>
                            <select id="chartType" class="form-select">
                                <option value="line">Line</option>
                                <option value="bar">Bar</option>
                                <option value="scatter">Scatter</option>
                                <option value="pie">Pie</option>
                                <option value="doughnut">Doughnut</option>
                                <option value="radar">Radar</option>
                            </select>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">X-Axis Field</label>
                            <select id="xField" class="form-select">
                            </select>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Y-Axis Fields</label>
                            <div id="yFields" class="field-selector">
                            </div>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">Options</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTrendLine">
                                <label class="form-check-label" for="showTrendLine">Trend Line</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showMovingAvg">
                                <label class="form-check-label" for="showMovingAvg">Moving Average</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="stackedMode">
                                <label class="form-check-label" for="stackedMode">Stacked</label>
                            </div>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Actions</label>
                            <div class="btn-group d-block" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="updateChart()">
                                    <i class="bi bi-arrow-clockwise"></i> Update
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="resetZoom()">
                                    <i class="bi bi-zoom-out"></i> Reset Zoom
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="exportChart()">
                                    <i class="bi bi-download"></i> Export
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="stats-panel">
                    <h5>Data Summary</h5>
                    <div id="dataSummary" class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        let chartData = {"records":[{"date":"2024-01-01","deals_closed":14,"product":"Software Licenses","profit":12239.015311264044,"profit_margin":20.221664458452455,"region":"North America","sales":60524.27255140344},{"date":"2024-01-01","deals_closed":15,"product":"Consulting","profit":12958.222586783611,"profit_margin":17.634764916120155,"region":"North America","sales":73481.11896256889},{"date":"2024-01-01","deals_closed":22,"product":"Support","profit":25911.418476461327,"profit_margin":26.734084625164773,"region":"North America","sales":96922.78168398903},{"date":"2024-01-01","deals_closed":17,"product":"Training","profit":31534.652097550046,"profit_margin":25.18362270289102,"region":"North America","sales":125218.8871695967},{"date":"2024-01-01","deals_closed":9,"product":"Software Licenses","profit":23099.66303108329,"profit_margin":22.55891982423747,"region":"Europe","sales":102397.02614778941},{"date":"2024-01-01","deals_closed":6,"product":"Consulting","profit":10142.23482579167,"profit_margin":17.79313447999315,"region":"Europe","sales":57000.832749259214},{"date":"2024-01-01","deals_closed":24,"product":"Support","profit":30455.568513127277,"profit_margin":24.76598914873923,"region":"Europe","sales":122973.35806059532},{"date":"2024-01-01","deals_closed":22,"product":"Training","profit":20839.238995072374,"profit_margin":16.634074667645443,"region":"Europe","sales":125280.42233456063},{"date":"2024-01-01","deals_closed":15,"product":"Software Licenses","profit":13021.63467102466,"profit_margin":18.182043709479387,"region":"Asia Pacific","sales":71618.10233816401},{"date":"2024-01-01","deals_closed":9,"product":"Consulting","profit":21659.705584977743,"profit_margin":22.51880540326124,"region":"Asia Pacific","sales":96184.96717344038},{"date":"2024-01-01","deals_closed":14,"product":"Support","profit":27406.04487979222,"profit_margin":25.313601345129054,"region":"Asia Pacific","sales":108266.08393698909},{"date":"2024-01-01","deals_closed":9,"product":"Training","profit":19336.060107370755,"profit_margin":19.52482751271156,"region":"Asia Pacific","sales":99033.19296819442},{"date":"2024-01-01","deals_closed":16,"product":"Software Licenses","profit":23381.523819414062,"profit_margin":15.393930845789203,"region":"Latin America","sales":151887.93592514907},{"date":"2024-01-01","deals_closed":23,"product":"Consulting","profit":37518.02943586434,"profit_margin":20.913876271883584,"region":"Latin America","sales":179392.99701367755},{"date":"2024-01-01","deals_closed":15,"product":"Support","profit":19656.539227711903,"profit_margin":17.97836095522321,"region":"Latin America","sales":109334.4341937975},{"date":"2024-01-01","deals_closed":21,"product":"Training","profit":28680.515943339393,"profit_margin":21.58674671000241,"region":"Latin America","sales":132861.68744477845},{"date":"2024-02-01","deals_closed":20,"product":"Software Licenses","profit":21070.823623776676,"profit_margin":24.779725199346753,"region":"North America","sales":85032.51530946013},{"date":"2024-02-01","deals_closed":7,"product":"Consulting","profit":45984.02213407396,"profit_margin":29.208174046310504,"region":"North America","sales":157435.45646216982},{"date":"2024-02-01","deals_closed":21,"product":"Support","profit":10702.657259097557,"profit_margin":18.652995411097237,"region":"North America","sales":57377.686656858445},{"date":"2024-02-01","deals_closed":9,"product":"Training","profit":22838.8179344586,"profit_margin":15.659875017140726,"region":"North America","sales":145842.91323819675},{"date":"2024-02-01","deals_closed":20,"product":"Software Licenses","profit":18409.999087728207,"profit_margin":20.66723285335243,"region":"Europe","sales":89078.20034911894},{"date":"2024-02-01","deals_closed":11,"product":"Consulting","profit":20526.6024214136,"profit_margin":24.7472937661634,"region":"Europe","sales":82944.83677839278},{"date":"2024-02-01","deals_closed":13,"product":"Support","profit":21047.42975648912,"profit_margin":18.528274769981312,"region":"Europe","sales":113596.27389911785},{"date":"2024-02-01","deals_closed":16,"product":"Training","profit":33195.16436951626,"profit_margin":27.939374868767295,"region":"Europe","sales":118811.40693174301},{"date":"2024-02-01","deals_closed":24,"product":"Software Licenses","profit":34315.590926099154,"profit_margin":23.596751163791758,"region":"Asia Pacific","sales":145425.06588260765},{"date":"2024-02-01","deals_closed":11,"product":"Consulting","profit":18126.551168896905,"profit_margin":22.78286734912729,"region":"Asia Pacific","sales":79562.20299720638},{"date":"2024-02-01","deals_closed":23,"product":"Support","profit":32290.148552776645,"profit_margin":25.688915448255077,"region":"Asia Pacific","sales":125696.8151022894},{"date":"2024-02-01","deals_closed":10,"product":"Training","profit":15944.776563235337,"profit_margin":16.235936883151087,"region":"Asia Pacific","sales":98206.69221609316},{"date":"2024-02-01","deals_closed":6,"product":"Software Licenses","profit":42549.696967327225,"profit_margin":27.899163759076874,"region":"Latin America","sales":152512.44565881966},{"date":"2024-02-01","deals_closed":15,"product":"Consulting","profit":14390.693260316353,"profit_margin":26.535692273622363,"region":"Latin America","sales":54231.45969559396},{"date":"2024-02-01","deals_closed":14,"product":"Support","profit":36200.05960453913,"profit_margin":29.484711641492712,"region":"Latin America","sales":122775.69489130145},{"date":"2024-02-01","deals_closed":24,"product":"Training","profit":25129.689640169054,"profit_margin":16.898805606001176,"region":"Latin America","sales":148706.89814459367},{"date":"2024-03-01","deals_closed":14,"product":"Software Licenses","profit":34892.60263549999,"profit_margin":20.716528528330596,"region":"North America","sales":168428.81078160903},{"date":"2024-03-01","deals_closed":8,"product":"Consulting","profit":31290.7529976135,"profit_margin":21.702144780311695,"region":"North America","sales":144182.76771427976},{"date":"2024-03-01","deals_closed":12,"product":"Support","profit":28009.861476457114,"profit_margin":21.373247805367974,"region":"North America","sales":131051.03038866338},{"date":"2024-03-01","deals_closed":9,"product":"Training","profit":35136.027801847114,"profit_margin":21.327192950278285,"region":"North America","sales":164747.5496834601},{"date":"2024-03-01","deals_closed":11,"product":"Software Licenses","profit":26061.344353693996,"profit_margin":18.02840794654204,"region":"Europe","sales":144557.10360543913},{"date":"2024-03-01","deals_closed":19,"product":"Consulting","profit":23802.56438506174,"profit_margin":15.686042705619748,"region":"Europe","sales":151743.5903482153},{"date":"2024-03-01","deals_closed":24,"product":"Support","profit":28718.495697870156,"profit_margin":19.974264990474662,"region":"Europe","sales":143777.48423566748},{"date":"2024-03-01","deals_closed":15,"product":"Training","profit":28538.337062371527,"profit_margin":28.911402808663627,"region":"Europe","sales":98709.62419651146},{"date":"2024-03-01","deals_closed":6,"product":"Software Licenses","profit":20852.37973735397,"profit_margin":28.689931365609013,"region":"Asia Pacific","sales":72681.87390071621},{"date":"2024-03-01","deals_closed":7,"product":"Consulting","profit":58565.758153173345,"profit_margin":28.59320083780197,"region":"Asia Pacific","sales":204824.0715874867},{"date":"2024-03-01","deals_closed":24,"product":"Support","profit":24691.05625941045,"profit_margin":27.931725950538944,"region":"Asia Pacific","sales":88397.88956519542},{"date":"2024-03-01","deals_closed":5,"product":"Training","profit":49506.840093596635,"profit_margin":26.586374646688306,"region":"Asia Pacific","sales":186211.32347491157},{"date":"2024-03-01","deals_closed":16,"product":"Software Licenses","profit":40623.806982435024,"profit_margin":22.76452395708704,"region":"Latin America","sales":178452.25781577584},{"date":"2024-03-01","deals_closed":12,"product":"Consulting","profit":22641.819864280198,"profit_margin":15.497389839145532,"region":"Latin America","sales":146100.86020478263},{"date":"2024-03-01","deals_closed":13,"product":"Support","profit":36349.061862283175,"profit_margin":24.40601791863389,"region":"Latin America","sales":148934.8323166264},{"date":"2024-03-01","deals_closed":14,"product":"Training","profit":37759.01488981345,"profit_margin":22.43335171448251,"region":"Latin America","sales":168316.4217740901},{"date":"2024-04-01","deals_closed":10,"product":"Software Licenses","profit":24332.25230418054,"profit_margin":21.188887852987115,"region":"North America","sales":114834.96667216673},{"date":"2024-04-01","deals_closed":22,"product":"Consulting","profit":22851.207994628367,"profit_margin":19.614032795530427,"region":"North America","sales":116504.38353419914},{"date":"2024-04-01","deals_closed":7,"product":"Support","profit":39047.453209137304,"profit_margin":26.329928217400735,"region":"North America","sales":148300.64437217836},{"date":"2024-04-01","deals_closed":20,"product":"Training","profit":23851.198340337098,"profit_margin":17.152963170931166,"region":"North America","sales":139050.01778793134},{"date":"2024-04-01","deals_closed":22,"product":"Software Licenses","profit":18600.972066158403,"profit_margin":15.881034706581945,"region":"Europe","sales":117126.95305960871},{"date":"2024-04-01","deals_closed":12,"product":"Consulting","profit":33240.047031590664,"profit_margin":27.339761898787827,"region":"Europe","sales":121581.33327805037},{"date":"2024-04-01","deals_closed":20,"product":"Support","profit":40289.12235217441,"profit_margin":25.89525594723014,"region":"Europe","sales":155584.95515269815},{"date":"2024-04-01","deals_closed":6,"product":"Training","profit":38523.186110941846,"profit_margin":28.473936867286064,"region":"Europe","sales":135292.79878119504},{"date":"2024-04-01","deals_closed":6,"product":"Software Licenses","profit":29377.389253229037,"profit_margin":18.500936838445405,"region":"Asia Pacific","sales":158788.6576218243},{"date":"2024-04-01","deals_closed":22,"product":"Consulting","profit":53641.65177458192,"profit_margin":28.605734904814106,"region":"Asia Pacific","sales":187520.621137947},{"date":"2024-04-01","deals_closed":7,"product":"Support","profit":38751.05601663972,"profit_margin":26.0656439670573,"region":"Asia Pacific","sales":148667.17302520783},{"date":"2024-04-01","deals_closed":20,"product":"Training","profit":30916.908055979202,"profit_margin":26.393379292972984,"region":"Asia Pacific","sales":117138.87680995275},{"date":"2024-04-01","deals_closed":22,"product":"Software Licenses","profit":23124.884551158404,"profit_margin":17.83094897326259,"region":"Latin America","sales":129689.58963336187},{"date":"2024-04-01","deals_closed":13,"product":"Consulting","profit":31466.209938676522,"profit_margin":22.856590597644825,"region":"Latin America","sales":137667.99472673255},{"date":"2024-04-01","deals_closed":21,"product":"Support","profit":23555.102159113885,"profit_margin":22.043408168022598,"region":"Latin America","sales":106857.80519767462},{"date":"2024-04-01","deals_closed":15,"product":"Training","profit":18837.936330629323,"profit_margin":23.321331070996983,"region":"Latin America","sales":80775.56239513564},{"date":"2024-05-01","deals_closed":19,"product":"Software Licenses","profit":29245.65740558471,"profit_margin":17.096633694540188,"region":"North America","sales":171060.91133557077},{"date":"2024-05-01","deals_closed":19,"product":"Consulting","profit":32000.40464764792,"profit_margin":22.56037368897856,"region":"North America","sales":141843.41575548062},{"date":"2024-05-01","deals_closed":12,"product":"Support","profit":30785.213051090894,"profit_margin":19.299125263420546,"region":"North America","sales":159516.10568299182},{"date":"2024-05-01","deals_closed":12,"product":"Training","profit":28284.91381672462,"profit_margin":29.81342291076665,"region":"North America","sales":94873.0841855464},{"date":"2024-05-01","deals_closed":24,"product":"Software Licenses","profit":33474.166331184984,"profit_margin":21.23058400696654,"region":"Europe","sales":157669.55030629807},{"date":"2024-05-01","deals_closed":14,"product":"Consulting","profit":59668.315649840086,"profit_margin":29.336514478990516,"region":"Europe","sales":203392.6548860187},{"date":"2024-05-01","deals_closed":6,"product":"Support","profit":28112.78541106803,"profit_margin":18.856742584101823,"region":"Europe","sales":149086.11752896284},{"date":"2024-05-01","deals_closed":18,"product":"Training","profit":14286.40094408242,"profit_margin":20.443670618378366,"region":"Europe","sales":69881.7800910923},{"date":"2024-05-01","deals_closed":19,"product":"Software Licenses","profit":24270.65191267887,"profit_margin":17.006627300909113,"region":"Asia Pacific","sales":142712.90528828985},{"date":"2024-05-01","deals_closed":15,"product":"Consulting","profit":33984.762589051395,"profit_margin":18.838131303567504,"region":"Asia Pacific","sales":180404.10718772022},{"date":"2024-05-01","deals_closed":19,"product":"Support","profit":14664.31068879444,"profit_margin":15.62565806967822,"region":"Asia Pacific","sales":93847.6358781376},{"date":"2024-05-01","deals_closed":6,"product":"Training","profit":10834.384653027528,"profit_margin":16.290466785404618,"region":"Asia Pacific","sales":66507.51507461134},{"date":"2024-05-01","deals_closed":14,"product":"Software Licenses","profit":16467.721688776073,"profit_margin":25.878231391411997,"region":"Latin America","sales":63635.4217554492},{"date":"2024-05-01","deals_closed":5,"product":"Consulting","profit":28622.98399056705,"profit_margin":28.971028922612685,"region":"Latin America","sales":98798.64490496581},{"date":"2024-05-01","deals_closed":18,"product":"Support","profit":27907.041125832344,"profit_margin":25.518792436884997,"region":"Latin America","sales":109358.78409942063},{"date":"2024-05-01","deals_closed":22,"product":"Training","profit":52485.374301841475,"profit_margin":25.938731625565577,"region":"Latin America","sales":202343.6421621756},{"date":"2024-06-01","deals_closed":8,"product":"Software Licenses","profit":23885.465965682433,"profit_margin":26.210521530444254,"region":"North America","sales":91129.3044586648},{"date":"2024-06-01","deals_closed":20,"product":"Consulting","profit":31459.411514773212,"profit_margin":22.077768651652942,"region":"North America","sales":142493.6188577095},{"date":"2024-06-01","deals_closed":22,"product":"Support","profit":17417.817093330563,"profit_margin":22.907289397442717,"region":"North America","sales":76036.13326365458},{"date":"2024-06-01","deals_closed":15,"product":"Training","profit":13485.053522326672,"profit_margin":18.584246134023697,"region":"North America","sales":72561.74625043565},{"date":"2024-06-01","deals_closed":7,"product":"Software Licenses","profit":21643.427741265623,"profit_margin":21.40636253823316,"region":"Europe","sales":101107.45206061538},{"date":"2024-06-01","deals_closed":8,"product":"Consulting","profit":15917.599924352247,"profit_margin":21.601896767624236,"region":"Europe","sales":73686.12161969357},{"date":"2024-06-01","deals_closed":21,"product":"Support","profit":39462.78743375248,"profit_margin":22.24720079292022,"region":"Europe","sales":177383.15845250434},{"date":"2024-06-01","deals_closed":18,"product":"Training","profit":45546.22719807627,"profit_margin":26.117149065705508,"region":"Europe","sales":174392.032926301},{"date":"2024-06-01","deals_closed":14,"product":"Software Licenses","profit":43302.37111461313,"profit_margin":23.250880169040055,"region":"Asia Pacific","sales":186239.7070553606},{"date":"2024-06-01","deals_closed":22,"product":"Consulting","profit":16068.087222092436,"profit_margin":20.24654388626384,"region":"Asia Pacific","sales":79362.12378940261},{"date":"2024-06-01","deals_closed":23,"product":"Support","profit":25340.320038580732,"profit_margin":29.224713725149066,"region":"Asia Pacific","sales":86708.53126877458},{"date":"2024-06-01","deals_closed":21,"product":"Training","profit":51520.92623186041,"profit_margin":28.496667040417933,"region":"Asia Pacific","sales":180796.32315872685},{"date":"2024-06-01","deals_closed":16,"product":"Software Licenses","profit":20516.487706626744,"profit_margin":20.884786500081542,"region":"Latin America","sales":98236.52114684839},{"date":"2024-06-01","deals_closed":7,"product":"Consulting","profit":46534.58247880594,"profit_margin":22.119046735324787,"region":"Latin America","sales":210382.40497267363},{"date":"2024-06-01","deals_closed":8,"product":"Support","profit":25180.239085352783,"profit_margin":17.02808826388828,"region":"Latin America","sales":147874.72730425582},{"date":"2024-06-01","deals_closed":15,"product":"Training","profit":22661.807208522063,"profit_margin":21.60488048101779,"region":"Latin America","sales":104892.07393872368},{"date":"2024-07-01","deals_closed":24,"product":"Software Licenses","profit":21328.575760148542,"profit_margin":21.033666631433935,"region":"North America","sales":101402.08140540689},{"date":"2024-07-01","deals_closed":14,"product":"Consulting","profit":13420.341236070688,"profit_margin":15.204223360163152,"region":"North America","sales":88267.19338544812},{"date":"2024-07-01","deals_closed":5,"product":"Support","profit":38607.453127445835,"profit_margin":21.88385358657791,"region":"North America","sales":176419.81095653583},{"date":"2024-07-01","deals_closed":22,"product":"Training","profit":24152.797855072604,"profit_margin":25.014683380033283,"region":"North America","sales":96554.48157441548},{"date":"2024-07-01","deals_closed":16,"product":"Software Licenses","profit":21575.455410730116,"profit_margin":23.677925137690373,"region":"Europe","sales":91120.5491413031},{"date":"2024-07-01","deals_closed":19,"product":"Consulting","profit":27447.160055130305,"profit_margin":24.55439911098879,"region":"Europe","sales":111781.02926105377},{"date":"2024-07-01","deals_closed":16,"product":"Support","profit":41311.58756713904,"profit_margin":23.775556985609875,"region":"Europe","sales":173756.5500238031},{"date":"2024-07-01","deals_closed":16,"product":"Training","profit":32643.95599073787,"profit_margin":23.871337638567457,"region":"Europe","sales":136749.58850230929},{"date":"2024-07-01","deals_closed":8,"product":"Software Licenses","profit":31747.740200828848,"profit_margin":17.91135357786508,"region":"Asia Pacific","sales":177249.25178219264},{"date":"2024-07-01","deals_closed":20,"product":"Consulting","profit":11634.381782365297,"profit_margin":17.628942196582567,"region":"Asia Pacific","sales":65995.91542492359},{"date":"2024-07-01","deals_closed":16,"product":"Support","profit":32034.69018610947,"profit_margin":22.460784753322006,"region":"Asia Pacific","sales":142624.98188702628},{"date":"2024-07-01","deals_closed":18,"product":"Training","profit":34611.64741508721,"profit_margin":29.918422152053402,"region":"Asia Pacific","sales":115686.74056132232},{"date":"2024-07-01","deals_closed":10,"product":"Software Licenses","profit":21475.11743372523,"profit_margin":23.590823250390354,"region":"Latin America","sales":91031.65754662626},{"date":"2024-07-01","deals_closed":19,"product":"Consulting","profit":43669.88438797205,"profit_margin":28.365439277585192,"region":"Latin America","sales":153954.5499740618},{"date":"2024-07-01","deals_closed":21,"product":"Support","profit":16156.231441399355,"profit_margin":15.901022990441621,"region":"Latin America","sales":101604.9813342899},{"date":"2024-07-01","deals_closed":14,"product":"Training","profit":14901.46287120085,"profit_margin":16.992868127518772,"region":"Latin America","sales":87692.45285361195},{"date":"2024-08-01","deals_closed":14,"product":"Software Licenses","profit":40829.49323929094,"profit_margin":28.492515769060834,"region":"North America","sales":143299.01076557956},{"date":"2024-08-01","deals_closed":8,"product":"Consulting","profit":14907.474589423977,"profit_margin":15.850805500700648,"region":"North America","sales":94048.68786488501},{"date":"2024-08-01","deals_closed":20,"product":"Support","profit":13502.105255089391,"profit_margin":19.29942453644629,"region":"North America","sales":69961.18060199742},{"date":"2024-08-01","deals_closed":18,"product":"Training","profit":45111.39007431689,"profit_margin":29.979276210876282,"region":"North America","sales":150475.2474909677},{"date":"2024-08-01","deals_closed":17,"product":"Software Licenses","profit":12946.798182940847,"profit_margin":25.238531759965444,"region":"Europe","sales":51297.747056259715},{"date":"2024-08-01","deals_closed":19,"product":"Consulting","profit":17764.724433391762,"profit_margin":16.80405606811333,"region":"Europe","sales":105716.88383676222},{"date":"2024-08-01","deals_closed":15,"product":"Support","profit":10302.205561746658,"profit_margin":18.19208363578349,"region":"Europe","sales":56630.15720465583},{"date":"2024-08-01","deals_closed":24,"product":"Training","profit":9472.690959817377,"profit_margin":15.372542891060808,"region":"Europe","sales":61620.84586100445},{"date":"2024-08-01","deals_closed":11,"product":"Software Licenses","profit":25619.562614942424,"profit_margin":27.97721763478004,"region":"Asia Pacific","sales":91572.94677900107},{"date":"2024-08-01","deals_closed":9,"product":"Consulting","profit":16124.016480568378,"profit_margin":28.83832479108453,"region":"Asia Pacific","sales":55911.76532401485},{"date":"2024-08-01","deals_closed":23,"product":"Support","profit":20208.7075065864,"profit_margin":22.304353732826765,"region":"Asia Pacific","sales":90604.31765321195},{"date":"2024-08-01","deals_closed":19,"product":"Training","profit":20161.985908558534,"profit_margin":15.969095020211178,"region":"Asia Pacific","sales":126256.28367193416},{"date":"2024-08-01","deals_closed":16,"product":"Software Licenses","profit":45665.05750018659,"profit_margin":28.67127853564031,"region":"Latin America","sales":159271.08881252672},{"date":"2024-08-01","deals_closed":10,"product":"Consulting","profit":39579.22473985554,"profit_margin":29.472497455381706,"region":"Latin America","sales":134292.0626247381},{"date":"2024-08-01","deals_closed":21,"product":"Support","profit":47119.13474493879,"profit_margin":29.797729723457806,"region":"Latin America","sales":158129.9487653416},{"date":"2024-08-01","deals_closed":17,"product":"Training","profit":8771.545827874204,"profit_margin":16.655269392054304,"region":"Latin America","sales":52665.28941320414},{"date":"2024-09-01","deals_closed":23,"product":"Software Licenses","profit":12820.180818349738,"profit_margin":23.07228941785939,"region":"North America","sales":55565.27393604086},{"date":"2024-09-01","deals_closed":10,"product":"Consulting","profit":16961.405534775284,"profit_margin":23.633018385007514,"region":"North America","sales":71769.9502384993},{"date":"2024-09-01","deals_closed":16,"product":"Support","profit":11551.568506082627,"profit_margin":17.72578192576487,"region":"North America","sales":65168.17455196225},{"date":"2024-09-01","deals_closed":7,"product":"Training","profit":20290.21062184244,"profit_margin":28.42248252737094,"region":"North America","sales":71387.89021086706},{"date":"2024-09-01","deals_closed":5,"product":"Software Licenses","profit":23762.510856729517,"profit_margin":24.052091131698162,"region":"Europe","sales":98796.02869711812},{"date":"2024-09-01","deals_closed":24,"product":"Consulting","profit":28402.03929434905,"profit_margin":29.356974306726425,"region":"Europe","sales":96747.16133072824},{"date":"2024-09-01","deals_closed":20,"product":"Support","profit":16682.562757586504,"profit_margin":18.41108477022618,"region":"Europe","sales":90611.51456195029},{"date":"2024-09-01","deals_closed":11,"product":"Training","profit":8395.870778122047,"profit_margin":16.526360796683388,"region":"Europe","sales":50802.901385324854},{"date":"2024-09-01","deals_closed":22,"product":"Software Licenses","profit":9067.494279849305,"profit_margin":17.180892377389647,"region":"Asia Pacific","sales":52776.61998385069},{"date":"2024-09-01","deals_closed":20,"product":"Consulting","profit":22529.919410402515,"profit_margin":29.634417653011457,"region":"Asia Pacific","sales":76026.19249753679},{"date":"2024-09-01","deals_closed":15,"product":"Support","profit":13505.803186192792,"profit_margin":19.50063948913476,"region":"Asia Pacific","sales":69258.25788286516},{"date":"2024-09-01","deals_closed":20,"product":"Training","profit":10743.759190981214,"profit_margin":16.279490295351806,"region":"Asia Pacific","sales":65995.67305893368},{"date":"2024-09-01","deals_closed":20,"product":"Software Licenses","profit":13327.918314717632,"profit_margin":20.36292730224695,"region":"Latin America","sales":65451.8778999273},{"date":"2024-09-01","deals_closed":9,"product":"Consulting","profit":12638.681940077324,"profit_margin":19.02592708056837,"region":"Latin America","sales":66428.73110233618},{"date":"2024-09-01","deals_closed":15,"product":"Support","profit":33444.00022440856,"profit_margin":24.23457630043178,"region":"Latin America","sales":138001.17571608917},{"date":"2024-09-01","deals_closed":7,"product":"Training","profit":34390.516525983345,"profit_margin":26.689445923603916,"region":"Latin America","sales":128854.36672017485},{"date":"2024-10-01","deals_closed":14,"product":"Software Licenses","profit":9641.666548559862,"profit_margin":17.652577221420778,"region":"North America","sales":54619.03056772946},{"date":"2024-10-01","deals_closed":20,"product":"Consulting","profit":24000.318338782687,"profit_margin":23.34235573744437,"region":"North America","sales":102818.74978146637},{"date":"2024-10-01","deals_closed":12,"product":"Support","profit":14353.66471488206,"profit_margin":22.544068824873793,"region":"North America","sales":63669.36166840066},{"date":"2024-10-01","deals_closed":12,"product":"Training","profit":13670.739030021208,"profit_margin":27.694101095461843,"region":"North America","sales":49363.360749273044},{"date":"2024-10-01","deals_closed":24,"product":"Software Licenses","profit":8160.497895586895,"profit_margin":21.689655313382577,"region":"Europe","sales":37623.91692113173},{"date":"2024-10-01","deals_closed":8,"product":"Consulting","profit":20695.968321564113,"profit_margin":26.897219343108148,"region":"Europe","sales":76944.63898874001},{"date":"2024-10-01","deals_closed":22,"product":"Support","profit":21974.19733790917,"profit_margin":15.626624074717228,"region":"Europe","sales":140620.2467842166},{"date":"2024-10-01","deals_closed":11,"product":"Training","profit":29629.387050992103,"profit_margin":27.916657849638792,"region":"Europe","sales":106135.15131567037},{"date":"2024-10-01","deals_closed":10,"product":"Software Licenses","profit":24605.926422082433,"profit_margin":27.60384414615703,"region":"Asia Pacific","sales":89139.4919193095},{"date":"2024-10-01","deals_closed":21,"product":"Consulting","profit":16814.087699051313,"profit_margin":20.157081777237508,"region":"Asia Pacific","sales":83415.2874154567},{"date":"2024-10-01","deals_closed":11,"product":"Support","profit":31246.734483008593,"profit_margin":29.7931978693104,"region":"Asia Pacific","sales":104878.75326466872},{"date":"2024-10-01","deals_closed":14,"product":"Training","profit":12999.154476921229,"profit_margin":16.416780288621,"region":"Asia Pacific","sales":79182.11883441823},{"date":"2024-10-01","deals_closed":15,"product":"Software Licenses","profit":24093.625603836757,"profit_margin":18.253146378087088,"region":"Latin America","sales":131997.10945594107},{"date":"2024-10-01","deals_closed":18,"product":"Consulting","profit":16319.97491473916,"profit_margin":17.17708562815744,"region":"Latin America","sales":95010.15054606665},{"date":"2024-10-01","deals_closed":14,"product":"Support","profit":23529.70492157354,"profit_margin":26.112796952108763,"region":"Latin America","sales":90107.94578890706},{"date":"2024-10-01","deals_closed":9,"product":"Training","profit":19137.453500453612,"profit_margin":21.867103351289508,"region":"Latin America","sales":87517.09448213255},{"date":"2024-11-01","deals_closed":6,"product":"Software Licenses","profit":19897.95794797095,"profit_margin":28.79418630143308,"region":"North America","sales":69104.08142695331},{"date":"2024-11-01","deals_closed":19,"product":"Consulting","profit":15619.27749752473,"profit_margin":28.137036990670644,"region":"North America","sales":55511.450984350595},{"date":"2024-11-01","deals_closed":15,"product":"Support","profit":29148.88176336136,"profit_margin":18.713409016334932,"region":"North America","sales":155764.6804914984},{"date":"2024-11-01","deals_closed":5,"product":"Training","profit":18443.95017903077,"profit_margin":27.185873528165878,"region":"North America","sales":67843.87545951741},{"date":"2024-11-01","deals_closed":7,"product":"Software Licenses","profit":23289.08540544181,"profit_margin":21.908985491796795,"region":"Europe","sales":106299.24153339621},{"date":"2024-11-01","deals_closed":23,"product":"Consulting","profit":29911.239280378773,"profit_margin":23.094247871618624,"region":"Europe","sales":129518.13562691429},{"date":"2024-11-01","deals_closed":18,"product":"Support","profit":20099.917220450083,"profit_margin":26.509502972348685,"region":"Europe","sales":75821.55441169809},{"date":"2024-11-01","deals_closed":11,"product":"Training","profit":26989.418738977492,"profit_margin":29.87045482237961,"region":"Europe","sales":90354.89717001704},{"date":"2024-11-01","deals_closed":22,"product":"Software Licenses","profit":41798.1168178021,"profit_margin":27.936350636802842,"region":"Asia Pacific","sales":149619.10151119746},{"date":"2024-11-01","deals_closed":14,"product":"Consulting","profit":27399.3821438545,"profit_margin":29.553392581502237,"region":"Asia Pacific","sales":92711.46136029082},{"date":"2024-11-01","deals_closed":22,"product":"Support","profit":17551.665762794804,"profit_margin":17.057039432316927,"region":"Asia Pacific","sales":102899.83694087462},{"date":"2024-11-01","deals_closed":24,"product":"Training","profit":26898.451201832435,"profit_margin":24.911447543228192,"region":"Asia Pacific","sales":107976.26735723105},{"date":"2024-11-01","deals_closed":18,"product":"Software Licenses","profit":25272.22882117397,"profit_margin":19.527206438049216,"region":"Latin America","sales":129420.60556050886},{"date":"2024-11-01","deals_closed":5,"product":"Consulting","profit":24977.992226929106,"profit_margin":19.544579918851174,"region":"Latin America","sales":127800.09767739897},{"date":"2024-11-01","deals_closed":10,"product":"Support","profit":31627.43280174534,"profit_margin":26.214598054199673,"region":"Latin America","sales":120648.169910347},{"date":"2024-11-01","deals_closed":7,"product":"Training","profit":26154.807804340275,"profit_margin":19.46606381977047,"region":"Latin America","sales":134361.05032069434},{"date":"2024-12-01","deals_closed":17,"product":"Software Licenses","profit":20118.234421817284,"profit_margin":17.72947182028588,"region":"North America","sales":113473.39969145728},{"date":"2024-12-01","deals_closed":10,"product":"Consulting","profit":17521.88848096886,"profit_margin":17.857292442409243,"region":"North America","sales":98121.75354958161},{"date":"2024-12-01","deals_closed":19,"product":"Support","profit":11296.991623829234,"profit_margin":15.922623960887472,"region":"North America","sales":70949.30867914297},{"date":"2024-12-01","deals_closed":19,"product":"Training","profit":38636.29008387317,"profit_margin":25.521787250490657,"region":"North America","sales":151385.51898684286},{"date":"2024-12-01","deals_closed":20,"product":"Software Licenses","profit":42075.31401087403,"profit_margin":29.206873443097948,"region":"Europe","sales":144059.63066483964},{"date":"2024-12-01","deals_closed":18,"product":"Consulting","profit":21507.419905448973,"profit_margin":26.04723842785514,"region":"Europe","sales":82570.82594386955},{"date":"2024-12-01","deals_closed":19,"product":"Support","profit":21031.0448938789,"profit_margin":18.082020884055687,"region":"Europe","sales":116309.15055752199},{"date":"2024-12-01","deals_closed":5,"product":"Training","profit":35891.26728903469,"profit_margin":28.98436370770424,"region":"Europe","sales":123829.75748918905},{"date":"2024-12-01","deals_closed":7,"product":"Software Licenses","profit":18236.94856542607,"profit_margin":22.6929362320866,"region":"Asia Pacific","sales":80363.98806620715},{"date":"2024-12-01","deals_closed":21,"product":"Consulting","profit":11588.859295863553,"profit_margin":16.706205127829246,"region":"Asia Pacific","sales":69368.59213202642},{"date":"2024-12-01","deals_closed":8,"product":"Support","profit":21836.16840666386,"profit_margin":22.154656850995703,"region":"Asia Pacific","sales":98562.43115624005},{"date":"2024-12-01","deals_closed":13,"product":"Training","profit":15056.973646423889,"profit_margin":16.846764886268044,"region":"Asia Pacific","sales":89376.05378880173},{"date":"2024-12-01","deals_closed":7,"product":"Software Licenses","profit":39281.807284898496,"profit_margin":24.12237478529323,"region":"Latin America","sales":162843.8643978269},{"date":"2024-12-01","deals_closed":12,"product":"Consulting","profit":27485.857286112485,"profit_margin":24.245113742446932,"region":"Latin America","sales":113366.58420369399},{"date":"2024-12-01","deals_closed":15,"product":"Support","profit":21035.678427505434,"profit_margin":21.400406351477827,"region":"Latin America","sales":98295.69626864957},{"date":"2024-12-01","deals_closed":21,"product":"Training","profit":30880.68169477733,"profit_margin":29.883268656865674,"region":"Latin America","sales":103337.69725582714}],"fields":["date","deals_closed","product","profit","profit_margin","region","sales"],"numericFields":["deals_closed","profit","profit_margin","sales"],"dateFields":["date"],"categories":{"product":["Software Licenses","Consulting","Support","Training"],"region":["North America","Europe","Asia Pacific","Latin America"]},"summary":{"recordCount":192,"fieldTypes":{"date":"date","deals_closed":"numeric","product":"string","profit":"numeric","profit_margin":"numeric","region":"string","sales":"numeric"},"numericStats":{"deals_closed":{"min":5,"max":24,"mean":15.057291666666666,"stdDev":5.688241614500085,"count":192},"profit":{"min":8160.497895586895,"max":59668.315649840086,"mean":25657.29253634573,"stdDev":10719.066221796396,"count":192},"profit_margin":{"min":15.204223360163152,"max":29.979276210876282,"mean":22.564861003896965,"stdDev":4.457580618786835,"count":192},"sales":{"min":37623.91692113173,"max":210382.40497267363,"mean":112794.4113774305,"stdDev":38509.95866398947,"count":192}}}};
        let chartConfig = {"title":"ðŸ“Š Sales Performance Dashboard - Interactive Analytics","width":1400,"height":700,"chartType":"line","timeFormat":"","xAxisType":"category","yAxisType":"linear","showLegend":true,"showTooltips":true,"enableZoom":true,"enablePan":true,"enableAnimations":true,"showDataLabels":false,"enableInteractive":true,"enableCalculations":true,"colorScheme":"vibrant","theme":"light","exportFormats":["png","csv"],"customCSS":"","fields":{}};
        let mainChart = null;

        
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            createChart();
            updateDataSummary();
        });

        
        function initializeControls() {
            
            const xFieldSelect = document.getElementById('xField');
            const yFieldsDiv = document.getElementById('yFields');

            chartData.fields.forEach(field => {
                
                const option = document.createElement('option');
                option.value = field;
                option.textContent = field;
                xFieldSelect.appendChild(option);

                
                const checkDiv = document.createElement('div');
                checkDiv.className = 'form-check';
                checkDiv.innerHTML = `
                    <input class="form-check-input" type="checkbox" id="y_${field}" value="${field}">
                    <label class="form-check-label" for="y_${field}">${field}</label>
                `;
                yFieldsDiv.appendChild(checkDiv);
            });

            
            if (chartData.fields.length > 0) {
                xFieldSelect.value = chartData.fields[0];
            }

            
            chartData.numericFields.forEach(field => {
                const checkbox = document.getElementById(`y_${field}`);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });

            
            document.getElementById('chartType').value = chartConfig.chartType;
        }

        
        function createChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');

            if (mainChart) {
                mainChart.destroy();
            }

            const chartType = document.getElementById('chartType').value;
            const xField = document.getElementById('xField').value;
            const selectedYFields = getSelectedYFields();
            const showTrendLine = document.getElementById('showTrendLine').checked;
            const showMovingAvg = document.getElementById('showMovingAvg').checked;
            const stackedMode = document.getElementById('stackedMode').checked;

            
            const labels = chartData.records.map(record => record[xField]);
            const datasets = [];

            
            const colors = generateColors(selectedYFields.length);

            selectedYFields.forEach((field, index) => {
                const data = chartData.records.map(record => {
                    const value = record[field];
                    return typeof value === 'number' ? value : parseFloat(value) || 0;
                });

                datasets.push({
                    label: field,
                    data: data,
                    backgroundColor: colors[index] + '80', 
                    borderColor: colors[index],
                    borderWidth: 2,
                    fill: chartType === 'area',
                    tension: 0.4
                });

                
                if (showMovingAvg && data.length > 5) {
                    const movingAvgData = calculateMovingAverage(data, 5);
                    datasets.push({
                        label: `${field} (5-period MA)`,
                        data: movingAvgData,
                        backgroundColor: 'transparent',
                        borderColor: colors[index],
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.1,
                        pointRadius: 0
                    });
                }
            });

            
            const config = {
                type: chartType,
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: chartData.dateFields.includes(xField) ? 'time' : 'category',
                            title: {
                                display: true,
                                text: xField
                            }
                        },
                        y: {
                            stacked: stackedMode,
                            title: {
                                display: true,
                                text: 'Values'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: chartConfig.showLegend
                        },
                        tooltip: {
                            enabled: chartConfig.showTooltips,
                            mode: 'index',
                            intersect: false
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: chartConfig.enableZoom
                                },
                                pinch: {
                                    enabled: chartConfig.enableZoom
                                },
                                mode: 'x'
                            },
                            pan: {
                                enabled: chartConfig.enablePan,
                                mode: 'x'
                            }
                        }
                    },
                    animation: {
                        duration: chartConfig.enableAnimations ? 1000 : 0
                    }
                }
            };

            mainChart = new Chart(ctx, config);
        }

        
        function getSelectedYFields() {
            const checkboxes = document.querySelectorAll('#yFields input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function generateColors(count) {
            const colors = [
                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#36A2EB'
            ];

            const result = [];
            for (let i = 0; i < count; i++) {
                result.push(colors[i % colors.length]);
            }
            return result;
        }

        function calculateMovingAverage(data, period) {
            const result = [];
            for (let i = 0; i < data.length; i++) {
                if (i < period - 1) {
                    result.push(null);
                } else {
                    const sum = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b, 0);
                    result.push(sum / period);
                }
            }
            return result;
        }

        function updateChart() {
            createChart();
        }

        function resetZoom() {
            if (mainChart) {
                mainChart.resetZoom();
            }
        }

        function exportChart() {
            if (mainChart) {
                const url = mainChart.toBase64Image();
                const link = document.createElement('a');
                link.download = 'chart.png';
                link.href = url;
                link.click();
            }
        }

        function updateDataSummary() {
            const summaryDiv = document.getElementById('dataSummary');
            let html = `
                <div class="col-md-3">
                    <strong>Records:</strong> ${chartData.summary.recordCount}
                </div>
                <div class="col-md-3">
                    <strong>Fields:</strong> ${chartData.fields.length}
                </div>
                <div class="col-md-3">
                    <strong>Numeric Fields:</strong> ${chartData.numericFields.length}
                </div>
                <div class="col-md-3">
                    <strong>Date Fields:</strong> ${chartData.dateFields.length}
                </div>
            `;

            
            for (const [field, stats] of Object.entries(chartData.summary.numericStats)) {
                html += `
                    <div class="col-md-12 mt-2">
                        <small><strong>${field}:</strong>
                        Min: ${stats.min.toFixed(2)},
                        Max: ${stats.max.toFixed(2)},
                        Mean: ${stats.mean.toFixed(2)},
                        StdDev: ${stats.stdDev.toFixed(2)}
                        </small>
                    </div>
                `;
            }

            summaryDiv.innerHTML = html;
        }
    </script>
</body>
</html>