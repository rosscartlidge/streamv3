<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“Š Sales Performance Dashboard - Interactive Analytics</title>

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --panel-bg: #f8f9fa;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .control-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .stats-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .field-selector {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
        }

        .export-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .btn-outline-primary {
            color: var(--text-color);
            border-color: var(--border-color);
        }

        .btn-outline-primary:hover {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
        }

        
    </style>
</head>
<body>
    <div class="container-fluid">
        
        <div class="row mt-3">
            <div class="col-12">
                <h1 class="text-center">ðŸ“Š Sales Performance Dashboard - Interactive Analytics</h1>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="control-panel">
                    <div class="row g-3">
                        
                        <div class="col-md-2">
                            <label class="form-label">Chart Type</label>
                            <select id="chartType" class="form-select">
                                <option value="line">Line</option>
                                <option value="bar">Bar</option>
                                <option value="scatter">Scatter</option>
                                <option value="pie">Pie</option>
                                <option value="doughnut">Doughnut</option>
                                <option value="radar">Radar</option>
                            </select>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">X-Axis Field</label>
                            <select id="xField" class="form-select">
                            </select>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Y-Axis Fields</label>
                            <div id="yFields" class="field-selector">
                            </div>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">Options</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTrendLine">
                                <label class="form-check-label" for="showTrendLine">Trend Line</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showMovingAvg">
                                <label class="form-check-label" for="showMovingAvg">Moving Average</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="stackedMode">
                                <label class="form-check-label" for="stackedMode">Stacked</label>
                            </div>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Actions</label>
                            <div class="btn-group d-block" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="updateChart()">
                                    <i class="bi bi-arrow-clockwise"></i> Update
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="resetZoom()">
                                    <i class="bi bi-zoom-out"></i> Reset Zoom
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="exportChart()">
                                    <i class="bi bi-download"></i> Export
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="stats-panel">
                    <h5>Data Summary</h5>
                    <div id="dataSummary" class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        let chartData = {"records":[{"date":"2024-01-01","deals_closed":20,"product":"Software Licenses","profit":16630.145996534855,"profit_margin":15.830243858289652,"region":"North America","sales":105052.99946991232},{"date":"2024-01-01","deals_closed":23,"product":"Consulting","profit":20491.369073872298,"profit_margin":15.622967667503884,"region":"North America","sales":131161.8221965267},{"date":"2024-01-01","deals_closed":16,"product":"Support","profit":31772.986294734535,"profit_margin":28.23805876973543,"region":"North America","sales":112518.309257107},{"date":"2024-01-01","deals_closed":11,"product":"Training","profit":21147.274522433174,"profit_margin":25.28178787701808,"region":"North America","sales":83646.27780797376},{"date":"2024-01-01","deals_closed":7,"product":"Software Licenses","profit":26010.062674254732,"profit_margin":18.63789334914029,"region":"Europe","sales":139554.7350068644},{"date":"2024-01-01","deals_closed":23,"product":"Consulting","profit":26829.08453801968,"profit_margin":22.330248806060528,"region":"Europe","sales":120146.82313229823},{"date":"2024-01-01","deals_closed":15,"product":"Support","profit":13367.246473110465,"profit_margin":26.219108298182288,"region":"Europe","sales":50982.84167824726},{"date":"2024-01-01","deals_closed":9,"product":"Training","profit":25490.879577499745,"profit_margin":19.995404811922306,"region":"Europe","sales":127483.68846376518},{"date":"2024-01-01","deals_closed":18,"product":"Software Licenses","profit":22146.741610535253,"profit_margin":17.317286905543973,"region":"Asia Pacific","sales":127888.05620264438},{"date":"2024-01-01","deals_closed":5,"product":"Consulting","profit":32725.01045705963,"profit_margin":23.39743692545434,"region":"Asia Pacific","sales":139865.7919725289},{"date":"2024-01-01","deals_closed":18,"product":"Support","profit":9892.211924871584,"profit_margin":22.033205112067968,"region":"Asia Pacific","sales":44896.83581919477},{"date":"2024-01-01","deals_closed":10,"product":"Training","profit":16065.7134333009,"profit_margin":22.969121624463735,"region":"Asia Pacific","sales":69944.83156983148},{"date":"2024-01-01","deals_closed":6,"product":"Software Licenses","profit":31674.286545213166,"profit_margin":29.335918263964334,"region":"Latin America","sales":107971.00762351537},{"date":"2024-01-01","deals_closed":7,"product":"Consulting","profit":13852.112838362884,"profit_margin":25.353750977771778,"region":"Latin America","sales":54635.35888834498},{"date":"2024-01-01","deals_closed":21,"product":"Support","profit":18118.985084250027,"profit_margin":24.61006454652427,"region":"Latin America","sales":73624.28916022087},{"date":"2024-01-01","deals_closed":6,"product":"Training","profit":22140.185977199257,"profit_margin":16.714417226344125,"region":"Latin America","sales":132461.60890553458},{"date":"2024-02-01","deals_closed":13,"product":"Software Licenses","profit":43497.21287066515,"profit_margin":21.593028577562826,"region":"North America","sales":201441.0008045968},{"date":"2024-02-01","deals_closed":23,"product":"Consulting","profit":16465.92402053208,"profit_margin":28.273838629280156,"region":"North America","sales":58237.31342754464},{"date":"2024-02-01","deals_closed":8,"product":"Support","profit":25299.45610643552,"profit_margin":29.48468224481252,"region":"North America","sales":85805.42227443084},{"date":"2024-02-01","deals_closed":9,"product":"Training","profit":15921.479022985624,"profit_margin":23.86649330709165,"region":"North America","sales":66710.59220189144},{"date":"2024-02-01","deals_closed":24,"product":"Software Licenses","profit":41196.30086973784,"profit_margin":27.803412083077205,"region":"Europe","sales":148169.94671964142},{"date":"2024-02-01","deals_closed":22,"product":"Consulting","profit":32701.916440093875,"profit_margin":23.454799183579095,"region":"Europe","sales":139425.26723054942},{"date":"2024-02-01","deals_closed":12,"product":"Support","profit":28461.68653647578,"profit_margin":18.63392792110649,"region":"Europe","sales":152741.20763469022},{"date":"2024-02-01","deals_closed":16,"product":"Training","profit":20564.744054443152,"profit_margin":28.122950256793423,"region":"Europe","sales":73124.41926136643},{"date":"2024-02-01","deals_closed":20,"product":"Software Licenses","profit":24334.022600266046,"profit_margin":23.24386084380755,"region":"Asia Pacific","sales":104690.1061909813},{"date":"2024-02-01","deals_closed":23,"product":"Consulting","profit":22495.29655509208,"profit_margin":28.48697953648358,"region":"Asia Pacific","sales":78966.94181382802},{"date":"2024-02-01","deals_closed":9,"product":"Support","profit":20703.524256130167,"profit_margin":21.180562612861998,"region":"Asia Pacific","sales":97747.75408259389},{"date":"2024-02-01","deals_closed":6,"product":"Training","profit":24221.14209602597,"profit_margin":28.08612986345991,"region":"Asia Pacific","sales":86238.80261814821},{"date":"2024-02-01","deals_closed":16,"product":"Software Licenses","profit":45496.27463103629,"profit_margin":29.508736553948893,"region":"Latin America","sales":154178.99898173692},{"date":"2024-02-01","deals_closed":15,"product":"Consulting","profit":24768.167764577473,"profit_margin":16.67728610826947,"region":"Latin America","sales":148514.3782014756},{"date":"2024-02-01","deals_closed":8,"product":"Support","profit":30550.685998369063,"profit_margin":22.66851640222565,"region":"Latin America","sales":134771.44007258245},{"date":"2024-02-01","deals_closed":21,"product":"Training","profit":39457.76401693897,"profit_margin":25.787398377258718,"region":"Latin America","sales":153011.8061531008},{"date":"2024-03-01","deals_closed":8,"product":"Software Licenses","profit":25829.619401264696,"profit_margin":27.266320336802625,"region":"North America","sales":94730.85873784462},{"date":"2024-03-01","deals_closed":15,"product":"Consulting","profit":45905.71349596345,"profit_margin":20.94499219369363,"region":"North America","sales":219172.74101341178},{"date":"2024-03-01","deals_closed":18,"product":"Support","profit":23343.35823623389,"profit_margin":21.768647016487407,"region":"North America","sales":107233.84975903099},{"date":"2024-03-01","deals_closed":11,"product":"Training","profit":21406.08357433823,"profit_margin":22.26383263737209,"region":"North America","sales":96147.34319555547},{"date":"2024-03-01","deals_closed":9,"product":"Software Licenses","profit":40362.684119333295,"profit_margin":29.9178612814068,"region":"Europe","sales":134911.6627678787},{"date":"2024-03-01","deals_closed":6,"product":"Consulting","profit":36923.46645844504,"profit_margin":25.964729562510392,"region":"Europe","sales":142206.24316363997},{"date":"2024-03-01","deals_closed":7,"product":"Support","profit":21141.957513074012,"profit_margin":22.256721249049026,"region":"Europe","sales":94991.33891510348},{"date":"2024-03-01","deals_closed":14,"product":"Training","profit":23047.225071999415,"profit_margin":26.810507908976728,"region":"Europe","sales":85963.40341722028},{"date":"2024-03-01","deals_closed":8,"product":"Software Licenses","profit":25444.027206117888,"profit_margin":18.99263900983081,"region":"Asia Pacific","sales":133967.83455394357},{"date":"2024-03-01","deals_closed":12,"product":"Consulting","profit":14107.835831905946,"profit_margin":15.680532361016958,"region":"Asia Pacific","sales":89970.38816729934},{"date":"2024-03-01","deals_closed":7,"product":"Support","profit":17150.928800619888,"profit_margin":19.56340780972157,"region":"Asia Pacific","sales":87668.41118599562},{"date":"2024-03-01","deals_closed":23,"product":"Training","profit":28120.276535468867,"profit_margin":29.055717245231673,"region":"Asia Pacific","sales":96780.52790138464},{"date":"2024-03-01","deals_closed":22,"product":"Software Licenses","profit":16088.658088253052,"profit_margin":26.275074446547315,"region":"Latin America","sales":61231.63654962427},{"date":"2024-03-01","deals_closed":10,"product":"Consulting","profit":41263.57216190596,"profit_margin":22.66055754774201,"region":"Latin America","sales":182094.2493359685},{"date":"2024-03-01","deals_closed":7,"product":"Support","profit":39096.496469745325,"profit_margin":17.84210700578159,"region":"Latin America","sales":219124.88506585252},{"date":"2024-03-01","deals_closed":13,"product":"Training","profit":29943.88697142207,"profit_margin":24.862314443560813,"region":"Latin America","sales":120438.85551925097},{"date":"2024-04-01","deals_closed":22,"product":"Software Licenses","profit":40935.072009796095,"profit_margin":23.409285700820888,"region":"North America","sales":174866.8136779613},{"date":"2024-04-01","deals_closed":21,"product":"Consulting","profit":46810.12917675169,"profit_margin":25.09397224218466,"region":"North America","sales":186539.3359209217},{"date":"2024-04-01","deals_closed":13,"product":"Support","profit":52804.562209029,"profit_margin":23.890327678858153,"region":"North America","sales":221029.04120381162},{"date":"2024-04-01","deals_closed":7,"product":"Training","profit":60754.92271206133,"profit_margin":27.79871141045906,"region":"North America","sales":218553.01785392375},{"date":"2024-04-01","deals_closed":15,"product":"Software Licenses","profit":31057.616652895675,"profit_margin":22.579885687565337,"region":"Europe","sales":137545.49993137916},{"date":"2024-04-01","deals_closed":12,"product":"Consulting","profit":31008.25102063889,"profit_margin":29.560593487230257,"region":"Europe","sales":104897.2546306758},{"date":"2024-04-01","deals_closed":18,"product":"Support","profit":12930.376631798792,"profit_margin":17.5557444066519,"region":"Europe","sales":73653.25179204279},{"date":"2024-04-01","deals_closed":23,"product":"Training","profit":17784.49216028268,"profit_margin":22.555596096358233,"region":"Europe","sales":78847.36047013236},{"date":"2024-04-01","deals_closed":17,"product":"Software Licenses","profit":62696.804321849246,"profit_margin":27.297783944069128,"region":"Asia Pacific","sales":229677.2677603052},{"date":"2024-04-01","deals_closed":12,"product":"Consulting","profit":30199.691632831717,"profit_margin":28.858468005871874,"region":"Asia Pacific","sales":104647.5912258646},{"date":"2024-04-01","deals_closed":7,"product":"Support","profit":18958.779331770715,"profit_margin":16.481995994170852,"region":"Asia Pacific","sales":115027.20506955482},{"date":"2024-04-01","deals_closed":13,"product":"Training","profit":23061.91978697467,"profit_margin":17.11034246994777,"region":"Asia Pacific","sales":134783.50785485515},{"date":"2024-04-01","deals_closed":10,"product":"Software Licenses","profit":20391.413393305487,"profit_margin":18.353313171026684,"region":"Latin America","sales":111104.80817979085},{"date":"2024-04-01","deals_closed":7,"product":"Consulting","profit":33431.44141917029,"profit_margin":22.43105454213759,"region":"Latin America","sales":149040.8814992093},{"date":"2024-04-01","deals_closed":12,"product":"Support","profit":46868.18299522225,"profit_margin":21.222030175402036,"region":"Latin America","sales":220846.83985392723},{"date":"2024-04-01","deals_closed":24,"product":"Training","profit":28156.790170257947,"profit_margin":20.72531798089815,"region":"Latin America","sales":135856.97549349614},{"date":"2024-05-01","deals_closed":8,"product":"Software Licenses","profit":19083.93833403645,"profit_margin":22.275051656987774,"region":"North America","sales":85674.04748554081},{"date":"2024-05-01","deals_closed":24,"product":"Consulting","profit":22099.897000041055,"profit_margin":20.893156062949984,"region":"North America","sales":105775.77142225532},{"date":"2024-05-01","deals_closed":13,"product":"Support","profit":30852.906149176928,"profit_margin":16.04024647900227,"region":"North America","sales":192346.83325823824},{"date":"2024-05-01","deals_closed":24,"product":"Training","profit":43497.83823000571,"profit_margin":24.49342903721153,"region":"North America","sales":177589.82690386806},{"date":"2024-05-01","deals_closed":10,"product":"Software Licenses","profit":23092.15177207895,"profit_margin":26.72527466434746,"region":"Europe","sales":86405.6667783653},{"date":"2024-05-01","deals_closed":23,"product":"Consulting","profit":34495.86301131705,"profit_margin":24.404628067416745,"region":"Europe","sales":141349.67726622877},{"date":"2024-05-01","deals_closed":15,"product":"Support","profit":30377.61636452006,"profit_margin":29.634889242274376,"region":"Europe","sales":102506.2591466891},{"date":"2024-05-01","deals_closed":21,"product":"Training","profit":27298.590171011052,"profit_margin":15.702967176692816,"region":"Europe","sales":173843.51545693274},{"date":"2024-05-01","deals_closed":14,"product":"Software Licenses","profit":31443.732055897104,"profit_margin":28.020040652235146,"region":"Asia Pacific","sales":112218.72389892073},{"date":"2024-05-01","deals_closed":7,"product":"Consulting","profit":24882.95092943874,"profit_margin":16.94591032459768,"region":"Asia Pacific","sales":146837.49915352804},{"date":"2024-05-01","deals_closed":10,"product":"Support","profit":32134.483459397572,"profit_margin":20.763974893148546,"region":"Asia Pacific","sales":154760.75089072148},{"date":"2024-05-01","deals_closed":20,"product":"Training","profit":46917.959838883275,"profit_margin":27.942133360519527,"region":"Asia Pacific","sales":167911.15851295518},{"date":"2024-05-01","deals_closed":6,"product":"Software Licenses","profit":24190.937653351608,"profit_margin":22.907884794529128,"region":"Latin America","sales":105600.9224349203},{"date":"2024-05-01","deals_closed":23,"product":"Consulting","profit":42540.12144112627,"profit_margin":21.126744930954718,"region":"Latin America","sales":201356.7238121802},{"date":"2024-05-01","deals_closed":11,"product":"Support","profit":26881.33987009313,"profit_margin":16.223762450861233,"region":"Latin America","sales":165691.1579635841},{"date":"2024-05-01","deals_closed":14,"product":"Training","profit":21421.571420108678,"profit_margin":19.078608795159862,"region":"Latin America","sales":112280.5737572606},{"date":"2024-06-01","deals_closed":5,"product":"Software Licenses","profit":44170.35567385656,"profit_margin":28.952037697815165,"region":"North America","sales":152563.8925138241},{"date":"2024-06-01","deals_closed":22,"product":"Consulting","profit":35134.758305905394,"profit_margin":19.693073306886703,"region":"North America","sales":178411.7580754585},{"date":"2024-06-01","deals_closed":18,"product":"Support","profit":22942.379361182062,"profit_margin":22.12245470475053,"region":"North America","sales":103706.30053208092},{"date":"2024-06-01","deals_closed":6,"product":"Training","profit":38826.907354589566,"profit_margin":22.7872330745829,"region":"North America","sales":170388.86304233872},{"date":"2024-06-01","deals_closed":6,"product":"Software Licenses","profit":13753.170961440866,"profit_margin":23.88362840147688,"region":"Europe","sales":57584.09371580416},{"date":"2024-06-01","deals_closed":10,"product":"Consulting","profit":47461.215685986324,"profit_margin":24.1416238524456,"region":"Europe","sales":196594.95970971478},{"date":"2024-06-01","deals_closed":7,"product":"Support","profit":19232.918310614652,"profit_margin":18.463870670833764,"region":"Europe","sales":104165.14854058043},{"date":"2024-06-01","deals_closed":6,"product":"Training","profit":27706.308740942488,"profit_margin":19.741709569482822,"region":"Europe","sales":140344.01956642864},{"date":"2024-06-01","deals_closed":6,"product":"Software Licenses","profit":23326.035183905562,"profit_margin":21.70849602471,"region":"Asia Pacific","sales":107451.18020776002},{"date":"2024-06-01","deals_closed":7,"product":"Consulting","profit":31869.368436969926,"profit_margin":26.431532118391914,"region":"Asia Pacific","sales":120573.29213539683},{"date":"2024-06-01","deals_closed":19,"product":"Support","profit":42076.205149647765,"profit_margin":23.78943743248154,"region":"Asia Pacific","sales":176869.27347091402},{"date":"2024-06-01","deals_closed":12,"product":"Training","profit":34264.654302196584,"profit_margin":26.250795286150954,"region":"Asia Pacific","sales":130528.06183084851},{"date":"2024-06-01","deals_closed":9,"product":"Software Licenses","profit":48477.53889322476,"profit_margin":28.164820337623908,"region":"Latin America","sales":172120.88808699467},{"date":"2024-06-01","deals_closed":13,"product":"Consulting","profit":30517.692262719596,"profit_margin":20.04597115247782,"region":"Latin America","sales":152238.53227458827},{"date":"2024-06-01","deals_closed":13,"product":"Support","profit":18027.814039721965,"profit_margin":16.638672452704,"region":"Latin America","sales":108348.87272988063},{"date":"2024-06-01","deals_closed":15,"product":"Training","profit":18659.14992830106,"profit_margin":28.52448580026783,"region":"Latin America","sales":65414.50057664444},{"date":"2024-07-01","deals_closed":21,"product":"Software Licenses","profit":32918.69224093623,"profit_margin":25.75576191544507,"region":"North America","sales":127810.98205910862},{"date":"2024-07-01","deals_closed":14,"product":"Consulting","profit":22440.67832807692,"profit_margin":24.410173176682296,"region":"North America","sales":91931.66376022794},{"date":"2024-07-01","deals_closed":24,"product":"Support","profit":45345.31687870427,"profit_margin":29.96270983180892,"region":"North America","sales":151339.1717012355},{"date":"2024-07-01","deals_closed":20,"product":"Training","profit":8632.268212164288,"profit_margin":17.757714629544797,"region":"North America","sales":48611.36915559031},{"date":"2024-07-01","deals_closed":18,"product":"Software Licenses","profit":34068.554634843786,"profit_margin":26.408567489549593,"region":"Europe","sales":129005.6897191618},{"date":"2024-07-01","deals_closed":15,"product":"Consulting","profit":34687.151594292154,"profit_margin":20.454366725189495,"region":"Europe","sales":169583.1118133568},{"date":"2024-07-01","deals_closed":12,"product":"Support","profit":21302.573720741857,"profit_margin":25.080785485501632,"region":"Europe","sales":84935.83158731677},{"date":"2024-07-01","deals_closed":14,"product":"Training","profit":34266.319907695506,"profit_margin":23.968251608337994,"region":"Europe","sales":142965.45475087993},{"date":"2024-07-01","deals_closed":17,"product":"Software Licenses","profit":10427.508683374717,"profit_margin":19.213988132111712,"region":"Asia Pacific","sales":54270.40243637687},{"date":"2024-07-01","deals_closed":22,"product":"Consulting","profit":14516.19461799847,"profit_margin":28.28116069891564,"region":"Asia Pacific","sales":51328.14304384279},{"date":"2024-07-01","deals_closed":14,"product":"Support","profit":17966.903114001092,"profit_margin":23.189648687517696,"region":"Asia Pacific","sales":77478.11687924425},{"date":"2024-07-01","deals_closed":8,"product":"Training","profit":13673.259419814005,"profit_margin":21.474009073229176,"region":"Asia Pacific","sales":63673.52911692644},{"date":"2024-07-01","deals_closed":13,"product":"Software Licenses","profit":15206.571861823817,"profit_margin":15.04949483964077,"region":"Latin America","sales":101043.73617757123},{"date":"2024-07-01","deals_closed":11,"product":"Consulting","profit":33209.7619911204,"profit_margin":21.010107116929575,"region":"Latin America","sales":158065.64814874533},{"date":"2024-07-01","deals_closed":13,"product":"Support","profit":18710.33978004366,"profit_margin":18.627220100660498,"region":"Latin America","sales":100446.2269674916},{"date":"2024-07-01","deals_closed":13,"product":"Training","profit":27967.75012841271,"profit_margin":19.309594051268526,"region":"Latin America","sales":144838.62298790997},{"date":"2024-08-01","deals_closed":18,"product":"Software Licenses","profit":13678.800439947889,"profit_margin":21.46949876355337,"region":"North America","sales":63712.714444777936},{"date":"2024-08-01","deals_closed":23,"product":"Consulting","profit":12652.700697755654,"profit_margin":27.27745905129657,"region":"North America","sales":46385.188129002934},{"date":"2024-08-01","deals_closed":19,"product":"Support","profit":18572.94272907674,"profit_margin":28.43041596615149,"region":"North America","sales":65327.72067488989},{"date":"2024-08-01","deals_closed":9,"product":"Training","profit":18440.114228367398,"profit_margin":20.732042803215975,"region":"North America","sales":88944.99400467642},{"date":"2024-08-01","deals_closed":18,"product":"Software Licenses","profit":22181.844554688305,"profit_margin":16.759077450263128,"region":"Europe","sales":132357.19341066736},{"date":"2024-08-01","deals_closed":15,"product":"Consulting","profit":17530.347109235438,"profit_margin":22.862277170734302,"region":"Europe","sales":76678.04470359498},{"date":"2024-08-01","deals_closed":7,"product":"Support","profit":45964.470114217314,"profit_margin":29.571164814338424,"region":"Europe","sales":155436.79257412994},{"date":"2024-08-01","deals_closed":18,"product":"Training","profit":24037.364206456034,"profit_margin":18.517420106915743,"region":"Europe","sales":129809.46626295282},{"date":"2024-08-01","deals_closed":11,"product":"Software Licenses","profit":14236.753237438681,"profit_margin":17.601020346719533,"region":"Asia Pacific","sales":80885.95409238372},{"date":"2024-08-01","deals_closed":17,"product":"Consulting","profit":30718.79011554202,"profit_margin":22.545682013586127,"region":"Asia Pacific","sales":136251.3234109784},{"date":"2024-08-01","deals_closed":16,"product":"Support","profit":10123.31726542829,"profit_margin":18.483412438632257,"region":"Asia Pacific","sales":54769.74178355455},{"date":"2024-08-01","deals_closed":15,"product":"Training","profit":25067.69702299015,"profit_margin":26.383919674029194,"region":"Asia Pacific","sales":95011.2694880031},{"date":"2024-08-01","deals_closed":22,"product":"Software Licenses","profit":9952.015157824617,"profit_margin":15.730535749687169,"region":"Latin America","sales":63265.58304298397},{"date":"2024-08-01","deals_closed":18,"product":"Consulting","profit":30073.300745069308,"profit_margin":23.154302585931596,"region":"Latin America","sales":129882.12723514138},{"date":"2024-08-01","deals_closed":12,"product":"Support","profit":39778.45080427023,"profit_margin":27.70563729174581,"region":"Latin America","sales":143575.2961947611},{"date":"2024-08-01","deals_closed":21,"product":"Training","profit":29264.872727847935,"profit_margin":28.633783431390082,"region":"Latin America","sales":102204.00247829637},{"date":"2024-09-01","deals_closed":16,"product":"Software Licenses","profit":14036.408985759983,"profit_margin":15.020178296448815,"region":"North America","sales":93450.34864918065},{"date":"2024-09-01","deals_closed":16,"product":"Consulting","profit":16608.063012302333,"profit_margin":17.653766281712958,"region":"North America","sales":94076.59956111552},{"date":"2024-09-01","deals_closed":17,"product":"Support","profit":26661.246209421784,"profit_margin":27.84110262170678,"region":"North America","sales":95762.17785510728},{"date":"2024-09-01","deals_closed":19,"product":"Training","profit":14143.87910152186,"profit_margin":21.026528492617693,"region":"North America","sales":67266.82964564361},{"date":"2024-09-01","deals_closed":16,"product":"Software Licenses","profit":15492.64059274784,"profit_margin":24.85565952447609,"region":"Europe","sales":62330.43455351402},{"date":"2024-09-01","deals_closed":19,"product":"Consulting","profit":16824.739353329456,"profit_margin":21.728883134003134,"region":"Europe","sales":77430.29979760316},{"date":"2024-09-01","deals_closed":11,"product":"Support","profit":16067.426492998286,"profit_margin":21.27817928126713,"region":"Europe","sales":75511.28449765303},{"date":"2024-09-01","deals_closed":21,"product":"Training","profit":27060.222429035897,"profit_margin":19.7552407725171,"region":"Europe","sales":136977.43672494878},{"date":"2024-09-01","deals_closed":5,"product":"Software Licenses","profit":9105.669642269551,"profit_margin":17.187922912738284,"region":"Asia Pacific","sales":52977.13800846275},{"date":"2024-09-01","deals_closed":9,"product":"Consulting","profit":17435.344742432655,"profit_margin":23.447460187541854,"region":"Asia Pacific","sales":74359.20395206145},{"date":"2024-09-01","deals_closed":8,"product":"Support","profit":24941.7971856787,"profit_margin":19.61872143656618,"region":"Asia Pacific","sales":127132.63331825056},{"date":"2024-09-01","deals_closed":15,"product":"Training","profit":14418.215043731534,"profit_margin":23.425703822901188,"region":"Asia Pacific","sales":61548.69519709437},{"date":"2024-09-01","deals_closed":10,"product":"Software Licenses","profit":33733.502986022606,"profit_margin":26.06791755002775,"region":"Latin America","sales":129406.20562146396},{"date":"2024-09-01","deals_closed":17,"product":"Consulting","profit":31338.583683120974,"profit_margin":29.05572334389232,"region":"Latin America","sales":107856.8353374294},{"date":"2024-09-01","deals_closed":23,"product":"Support","profit":17998.298619082743,"profit_margin":22.05026210600117,"region":"Latin America","sales":81623.96679259586},{"date":"2024-09-01","deals_closed":13,"product":"Training","profit":24982.258187998785,"profit_margin":27.614176407898206,"region":"Latin America","sales":90468.95992470505},{"date":"2024-10-01","deals_closed":9,"product":"Software Licenses","profit":24405.33029706315,"profit_margin":25.950345267915093,"region":"North America","sales":94046.26429860186},{"date":"2024-10-01","deals_closed":19,"product":"Consulting","profit":17765.73284502871,"profit_margin":20.626753640827204,"region":"North America","sales":86129.56335438271},{"date":"2024-10-01","deals_closed":20,"product":"Support","profit":12742.635838947177,"profit_margin":23.374604930408534,"region":"North America","sales":54514.87148931448},{"date":"2024-10-01","deals_closed":12,"product":"Training","profit":20825.34327735161,"profit_margin":19.74351690581769,"region":"North America","sales":105479.4005378806},{"date":"2024-10-01","deals_closed":8,"product":"Software Licenses","profit":13264.40035300264,"profit_margin":17.552692270556896,"region":"Europe","sales":75569.03606891411},{"date":"2024-10-01","deals_closed":7,"product":"Consulting","profit":30046.691492535232,"profit_margin":28.321584851046556,"region":"Europe","sales":106091.13738006413},{"date":"2024-10-01","deals_closed":15,"product":"Support","profit":13031.677478867752,"profit_margin":15.683511045463849,"region":"Europe","sales":83091.58224259301},{"date":"2024-10-01","deals_closed":18,"product":"Training","profit":10481.88635673362,"profit_margin":25.079504543915938,"region":"Europe","sales":41794.63090420752},{"date":"2024-10-01","deals_closed":19,"product":"Software Licenses","profit":26251.008411931096,"profit_margin":24.041322239540147,"region":"Asia Pacific","sales":109191.20067679445},{"date":"2024-10-01","deals_closed":10,"product":"Consulting","profit":22342.149480611617,"profit_margin":17.599653256102542,"region":"Asia Pacific","sales":126946.53215889154},{"date":"2024-10-01","deals_closed":20,"product":"Support","profit":29579.684195224796,"profit_margin":23.44567984882555,"region":"Asia Pacific","sales":126162.62094317778},{"date":"2024-10-01","deals_closed":5,"product":"Training","profit":11389.630412613584,"profit_margin":23.505456756980816,"region":"Asia Pacific","sales":48455.26096501405},{"date":"2024-10-01","deals_closed":6,"product":"Software Licenses","profit":13670.034738375683,"profit_margin":22.630261913273007,"region":"Latin America","sales":60405.99437498332},{"date":"2024-10-01","deals_closed":7,"product":"Consulting","profit":26493.91653902663,"profit_margin":20.69620001424844,"region":"Latin America","sales":128013.43493388503},{"date":"2024-10-01","deals_closed":9,"product":"Support","profit":26664.12578379761,"profit_margin":29.287746998462595,"region":"Latin America","sales":91041.91519135049},{"date":"2024-10-01","deals_closed":15,"product":"Training","profit":21612.155367268308,"profit_margin":18.74505223982036,"region":"Latin America","sales":115295.2527993351},{"date":"2024-11-01","deals_closed":9,"product":"Software Licenses","profit":13547.85138722447,"profit_margin":20.50988512604393,"region":"North America","sales":66055.22802280882},{"date":"2024-11-01","deals_closed":20,"product":"Consulting","profit":14947.28647429374,"profit_margin":15.038533736053832,"region":"North America","sales":99393.24362759294},{"date":"2024-11-01","deals_closed":7,"product":"Support","profit":22732.11905189382,"profit_margin":16.589097007481975,"region":"North America","sales":137030.47876349892},{"date":"2024-11-01","deals_closed":18,"product":"Training","profit":13142.914128353052,"profit_margin":21.638957224750172,"region":"North America","sales":60737.28041442067},{"date":"2024-11-01","deals_closed":24,"product":"Software Licenses","profit":24935.192933150884,"profit_margin":29.970192156793896,"region":"Europe","sales":83199.97683931554},{"date":"2024-11-01","deals_closed":20,"product":"Consulting","profit":19045.776763408892,"profit_margin":29.912021836428735,"region":"Europe","sales":63672.64930321009},{"date":"2024-11-01","deals_closed":20,"product":"Support","profit":11098.465891098831,"profit_margin":16.178196428749064,"region":"Europe","sales":68601.37926979658},{"date":"2024-11-01","deals_closed":19,"product":"Training","profit":16641.672406954793,"profit_margin":16.714422503925565,"region":"Europe","sales":99564.7465716887},{"date":"2024-11-01","deals_closed":13,"product":"Software Licenses","profit":24422.445551504963,"profit_margin":19.222728134525383,"region":"Asia Pacific","sales":127049.84110783173},{"date":"2024-11-01","deals_closed":22,"product":"Consulting","profit":21475.908532952857,"profit_margin":15.961174938744731,"region":"Asia Pacific","sales":134550.92507520522},{"date":"2024-11-01","deals_closed":9,"product":"Support","profit":34899.840808176625,"profit_margin":29.564797851629827,"region":"Asia Pacific","sales":118045.25430317696},{"date":"2024-11-01","deals_closed":19,"product":"Training","profit":28810.872010474955,"profit_margin":27.220264839779762,"region":"Asia Pacific","sales":105843.46691723101},{"date":"2024-11-01","deals_closed":18,"product":"Software Licenses","profit":9618.972117204035,"profit_margin":21.116765503256186,"region":"Latin America","sales":45551.35167703974},{"date":"2024-11-01","deals_closed":7,"product":"Consulting","profit":25704.901225681217,"profit_margin":28.89656858259986,"region":"Latin America","sales":88954.85687930258},{"date":"2024-11-01","deals_closed":19,"product":"Support","profit":9587.33318763736,"profit_margin":19.814979904606965,"region":"Latin America","sales":48384.269041869244},{"date":"2024-11-01","deals_closed":11,"product":"Training","profit":23485.164982176244,"profit_margin":23.338056883143686,"region":"Latin America","sales":100630.33567776934},{"date":"2024-12-01","deals_closed":8,"product":"Software Licenses","profit":33935.92770036261,"profit_margin":24.429632966081787,"region":"North America","sales":138912.9658537212},{"date":"2024-12-01","deals_closed":14,"product":"Consulting","profit":25486.772841871658,"profit_margin":20.51017854564476,"region":"North America","sales":124264.02230069155},{"date":"2024-12-01","deals_closed":8,"product":"Support","profit":29199.012903044146,"profit_margin":22.985512638770928,"region":"North America","sales":127032.24575375607},{"date":"2024-12-01","deals_closed":11,"product":"Training","profit":37063.754230160404,"profit_margin":28.867789655538722,"region":"North America","sales":128391.38247998548},{"date":"2024-12-01","deals_closed":11,"product":"Software Licenses","profit":13359.666876412466,"profit_margin":25.943984582768202,"region":"Europe","sales":51494.275421693914},{"date":"2024-12-01","deals_closed":22,"product":"Consulting","profit":23973.91897866184,"profit_margin":28.156873914082663,"region":"Europe","sales":85144.10744536268},{"date":"2024-12-01","deals_closed":9,"product":"Support","profit":19114.71372231623,"profit_margin":21.909672407337037,"region":"Europe","sales":87243.26574556706},{"date":"2024-12-01","deals_closed":20,"product":"Training","profit":28639.52328433926,"profit_margin":18.99454667798496,"region":"Europe","sales":150777.60880459973},{"date":"2024-12-01","deals_closed":8,"product":"Software Licenses","profit":30721.351124035085,"profit_margin":22.763007468413537,"region":"Asia Pacific","sales":134961.74073950783},{"date":"2024-12-01","deals_closed":23,"product":"Consulting","profit":22122.50756549922,"profit_margin":26.401664683209024,"region":"Asia Pacific","sales":83792.09353252915},{"date":"2024-12-01","deals_closed":6,"product":"Support","profit":14011.463534051052,"profit_margin":25.199152018911093,"region":"Asia Pacific","sales":55602.91681059717},{"date":"2024-12-01","deals_closed":7,"product":"Training","profit":19136.5570995201,"profit_margin":28.2541346233258,"region":"Asia Pacific","sales":67730.1122637163},{"date":"2024-12-01","deals_closed":17,"product":"Software Licenses","profit":20800.135665423182,"profit_margin":28.07232674338066,"region":"Latin America","sales":74094.80466498122},{"date":"2024-12-01","deals_closed":22,"product":"Consulting","profit":9155.326695852073,"profit_margin":16.955821430154803,"region":"Latin America","sales":53995.18232463767},{"date":"2024-12-01","deals_closed":14,"product":"Support","profit":36151.29309048617,"profit_margin":22.2053682662101,"region":"Latin America","sales":162804.2942458089},{"date":"2024-12-01","deals_closed":11,"product":"Training","profit":33194.932827783756,"profit_margin":27.814124869120764,"region":"Latin America","sales":119345.5950312381}],"fields":["date","deals_closed","product","profit","profit_margin","region","sales"],"numericFields":["deals_closed","profit","profit_margin","sales"],"dateFields":["date"],"categories":{"product":["Software Licenses","Consulting","Support","Training"],"region":["North America","Europe","Asia Pacific","Latin America"]},"summary":{"recordCount":192,"fieldTypes":{"date":"date","deals_closed":"numeric","product":"string","profit":"numeric","profit_margin":"numeric","region":"string","sales":"numeric"},"numericStats":{"deals_closed":{"min":5,"max":24,"mean":14.104166666666666,"stdDev":5.6448338598718335,"count":192},"profit":{"min":8632.268212164288,"max":62696.804321849246,"mean":25460.241675580808,"stdDev":10473.578386583404,"count":192},"profit_margin":{"min":15.020178296448815,"max":29.970192156793896,"mean":22.881257277648206,"stdDev":4.207442677240977,"count":192},"sales":{"min":41794.63090420752,"max":229677.2677603052,"mean":111842.18259658401,"stdDev":41962.60828149274,"count":192}}}};
        let chartConfig = {"title":"ðŸ“Š Sales Performance Dashboard - Interactive Analytics","width":1400,"height":700,"chartType":"line","timeFormat":"","xAxisType":"category","yAxisType":"linear","showLegend":true,"showTooltips":true,"enableZoom":true,"enablePan":true,"enableAnimations":true,"showDataLabels":false,"enableInteractive":true,"enableCalculations":true,"colorScheme":"vibrant","theme":"light","exportFormats":["png","csv"],"customCSS":"","fields":{}};
        let mainChart = null;

        
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            createChart();
            updateDataSummary();
        });

        
        function initializeControls() {
            
            const xFieldSelect = document.getElementById('xField');
            const yFieldsDiv = document.getElementById('yFields');

            chartData.fields.forEach(field => {
                
                const option = document.createElement('option');
                option.value = field;
                option.textContent = field;
                xFieldSelect.appendChild(option);

                
                const checkDiv = document.createElement('div');
                checkDiv.className = 'form-check';
                checkDiv.innerHTML = `
                    <input class="form-check-input" type="checkbox" id="y_${field}" value="${field}">
                    <label class="form-check-label" for="y_${field}">${field}</label>
                `;
                yFieldsDiv.appendChild(checkDiv);
            });

            
            if (chartData.fields.length > 0) {
                xFieldSelect.value = chartData.fields[0];
            }

            
            chartData.numericFields.forEach(field => {
                const checkbox = document.getElementById(`y_${field}`);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });

            
            document.getElementById('chartType').value = chartConfig.chartType;
        }

        
        function createChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');

            if (mainChart) {
                mainChart.destroy();
            }

            const chartType = document.getElementById('chartType').value;
            const xField = document.getElementById('xField').value;
            const selectedYFields = getSelectedYFields();
            const showTrendLine = document.getElementById('showTrendLine').checked;
            const showMovingAvg = document.getElementById('showMovingAvg').checked;
            const stackedMode = document.getElementById('stackedMode').checked;

            
            const labels = chartData.records.map(record => record[xField]);
            const datasets = [];

            
            const colors = generateColors(selectedYFields.length);

            selectedYFields.forEach((field, index) => {
                const data = chartData.records.map(record => {
                    const value = record[field];
                    return typeof value === 'number' ? value : parseFloat(value) || 0;
                });

                datasets.push({
                    label: field,
                    data: data,
                    backgroundColor: colors[index] + '80', 
                    borderColor: colors[index],
                    borderWidth: 2,
                    fill: chartType === 'area',
                    tension: 0.4
                });

                
                if (showMovingAvg && data.length > 5) {
                    const movingAvgData = calculateMovingAverage(data, 5);
                    datasets.push({
                        label: `${field} (5-period MA)`,
                        data: movingAvgData,
                        backgroundColor: 'transparent',
                        borderColor: colors[index],
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.1,
                        pointRadius: 0
                    });
                }
            });

            
            const config = {
                type: chartType,
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: chartData.dateFields.includes(xField) ? 'time' : 'category',
                            title: {
                                display: true,
                                text: xField
                            }
                        },
                        y: {
                            stacked: stackedMode,
                            title: {
                                display: true,
                                text: 'Values'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: chartConfig.showLegend
                        },
                        tooltip: {
                            enabled: chartConfig.showTooltips,
                            mode: 'index',
                            intersect: false
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: chartConfig.enableZoom
                                },
                                pinch: {
                                    enabled: chartConfig.enableZoom
                                },
                                mode: 'x'
                            },
                            pan: {
                                enabled: chartConfig.enablePan,
                                mode: 'x'
                            }
                        }
                    },
                    animation: {
                        duration: chartConfig.enableAnimations ? 1000 : 0
                    }
                }
            };

            mainChart = new Chart(ctx, config);
        }

        
        function getSelectedYFields() {
            const checkboxes = document.querySelectorAll('#yFields input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function generateColors(count) {
            const colors = [
                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#36A2EB'
            ];

            const result = [];
            for (let i = 0; i < count; i++) {
                result.push(colors[i % colors.length]);
            }
            return result;
        }

        function calculateMovingAverage(data, period) {
            const result = [];
            for (let i = 0; i < data.length; i++) {
                if (i < period - 1) {
                    result.push(null);
                } else {
                    const sum = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b, 0);
                    result.push(sum / period);
                }
            }
            return result;
        }

        function updateChart() {
            createChart();
        }

        function resetZoom() {
            if (mainChart) {
                mainChart.resetZoom();
            }
        }

        function exportChart() {
            if (mainChart) {
                const url = mainChart.toBase64Image();
                const link = document.createElement('a');
                link.download = 'chart.png';
                link.href = url;
                link.click();
            }
        }

        function updateDataSummary() {
            const summaryDiv = document.getElementById('dataSummary');
            let html = `
                <div class="col-md-3">
                    <strong>Records:</strong> ${chartData.summary.recordCount}
                </div>
                <div class="col-md-3">
                    <strong>Fields:</strong> ${chartData.fields.length}
                </div>
                <div class="col-md-3">
                    <strong>Numeric Fields:</strong> ${chartData.numericFields.length}
                </div>
                <div class="col-md-3">
                    <strong>Date Fields:</strong> ${chartData.dateFields.length}
                </div>
            `;

            
            for (const [field, stats] of Object.entries(chartData.summary.numericStats)) {
                html += `
                    <div class="col-md-12 mt-2">
                        <small><strong>${field}:</strong>
                        Min: ${stats.min.toFixed(2)},
                        Max: ${stats.max.toFixed(2)},
                        Mean: ${stats.mean.toFixed(2)},
                        StdDev: ${stats.stdDev.toFixed(2)}
                        </small>
                    </div>
                `;
            }

            summaryDiv.innerHTML = html;
        }
    </script>
</body>
</html>