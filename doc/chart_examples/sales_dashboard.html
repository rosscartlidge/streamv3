<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“Š Sales Performance Dashboard - Interactive Analytics</title>

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --panel-bg: #f8f9fa;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .control-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .stats-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .field-selector {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
        }

        .export-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .btn-outline-primary {
            color: var(--text-color);
            border-color: var(--border-color);
        }

        .btn-outline-primary:hover {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
        }

        
    </style>
</head>
<body>
    <div class="container-fluid">
        
        <div class="row mt-3">
            <div class="col-12">
                <h1 class="text-center">ðŸ“Š Sales Performance Dashboard - Interactive Analytics</h1>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="control-panel">
                    <div class="row g-3">
                        
                        <div class="col-md-2">
                            <label class="form-label">Chart Type</label>
                            <select id="chartType" class="form-select">
                                <option value="line">Line</option>
                                <option value="bar">Bar</option>
                                <option value="scatter">Scatter</option>
                                <option value="pie">Pie</option>
                                <option value="doughnut">Doughnut</option>
                                <option value="radar">Radar</option>
                            </select>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">X-Axis Field</label>
                            <select id="xField" class="form-select">
                            </select>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Y-Axis Fields</label>
                            <div id="yFields" class="field-selector">
                            </div>
                        </div>

                        
                        <div class="col-md-2">
                            <label class="form-label">Options</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTrendLine">
                                <label class="form-check-label" for="showTrendLine">Trend Line</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showMovingAvg">
                                <label class="form-check-label" for="showMovingAvg">Moving Average</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="stackedMode">
                                <label class="form-check-label" for="stackedMode">Stacked</label>
                            </div>
                        </div>

                        
                        <div class="col-md-3">
                            <label class="form-label">Actions</label>
                            <div class="btn-group d-block" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="updateChart()">
                                    <i class="bi bi-arrow-clockwise"></i> Update
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="resetZoom()">
                                    <i class="bi bi-zoom-out"></i> Reset Zoom
                                </button>
                                <button type="button" class="btn btn-outline-primary btn-sm" onclick="exportChart()">
                                    <i class="bi bi-download"></i> Export
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-12">
                <div class="stats-panel">
                    <h5>Data Summary</h5>
                    <div id="dataSummary" class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        let chartData = {"records":[{"date":"2024-01-01","deals_closed":21,"product":"Software Licenses","profit":15579.99751151329,"profit_margin":21.37788404261388,"region":"North America","sales":72879.04397112783},{"date":"2024-01-01","deals_closed":24,"product":"Consulting","profit":20462.941403333243,"profit_margin":16.73085642109446,"region":"North America","sales":122306.59858830253},{"date":"2024-01-01","deals_closed":22,"product":"Support","profit":10822.738672047817,"profit_margin":15.301347699895334,"region":"North America","sales":70730.6237614733},{"date":"2024-01-01","deals_closed":17,"product":"Training","profit":15385.254645867304,"profit_margin":27.29001796167435,"region":"North America","sales":56376.85789534511},{"date":"2024-01-01","deals_closed":6,"product":"Software Licenses","profit":26346.59899638883,"profit_margin":23.98611686276061,"region":"Europe","sales":109841.03490837637},{"date":"2024-01-01","deals_closed":21,"product":"Consulting","profit":18411.654336417727,"profit_margin":20.23808953921912,"region":"Europe","sales":90975.25880957306},{"date":"2024-01-01","deals_closed":15,"product":"Support","profit":37022.0959861803,"profit_margin":24.72078978055773,"region":"Europe","sales":149760.9757407396},{"date":"2024-01-01","deals_closed":10,"product":"Training","profit":33520.048322921226,"profit_margin":27.91020325533734,"region":"Europe","sales":120099.62097467383},{"date":"2024-01-01","deals_closed":21,"product":"Software Licenses","profit":26187.385724004704,"profit_margin":24.83965664274218,"region":"Asia Pacific","sales":105425.71542210231},{"date":"2024-01-01","deals_closed":12,"product":"Consulting","profit":27980.535881312186,"profit_margin":26.77507160178051,"region":"Asia Pacific","sales":104502.18881749513},{"date":"2024-01-01","deals_closed":6,"product":"Support","profit":18935.314327186356,"profit_margin":22.692077083943825,"region":"Asia Pacific","sales":83444.60604967875},{"date":"2024-01-01","deals_closed":21,"product":"Training","profit":22710.686942557808,"profit_margin":17.844228171328194,"region":"Asia Pacific","sales":127271.89276277558},{"date":"2024-01-01","deals_closed":15,"product":"Software Licenses","profit":21318.597052036654,"profit_margin":19.29287219365022,"region":"Latin America","sales":110499.86149316406},{"date":"2024-01-01","deals_closed":13,"product":"Consulting","profit":19706.390763287058,"profit_margin":25.58465723004662,"region":"Latin America","sales":77024.25162899533},{"date":"2024-01-01","deals_closed":5,"product":"Support","profit":31518.51648110583,"profit_margin":27.367657552169316,"region":"Latin America","sales":115167.02304910087},{"date":"2024-01-01","deals_closed":15,"product":"Training","profit":20061.897805811925,"profit_margin":15.644724843176098,"region":"Latin America","sales":128234.26430898531},{"date":"2024-02-01","deals_closed":5,"product":"Software Licenses","profit":17340.712995545742,"profit_margin":27.845933676155116,"region":"North America","sales":62273.77109065965},{"date":"2024-02-01","deals_closed":17,"product":"Consulting","profit":28799.26947389338,"profit_margin":21.715741956644848,"region":"North America","sales":132619.32072774987},{"date":"2024-02-01","deals_closed":11,"product":"Support","profit":14247.896006793142,"profit_margin":15.929596042915477,"region":"North America","sales":89442.92101575134},{"date":"2024-02-01","deals_closed":23,"product":"Training","profit":19478.108775157863,"profit_margin":21.960335509244576,"region":"North America","sales":88696.772264514},{"date":"2024-02-01","deals_closed":18,"product":"Software Licenses","profit":19273.544714706943,"profit_margin":20.169933194466715,"region":"Europe","sales":95555.8183008475},{"date":"2024-02-01","deals_closed":13,"product":"Consulting","profit":31418.92528897197,"profit_margin":21.70341370167548,"region":"Europe","sales":144764.90067802774},{"date":"2024-02-01","deals_closed":12,"product":"Support","profit":39386.45219160826,"profit_margin":23.75928700107229,"region":"Europe","sales":165772.871003371},{"date":"2024-02-01","deals_closed":20,"product":"Training","profit":15017.007085298006,"profit_margin":18.429075807445848,"region":"Europe","sales":81485.4051402335},{"date":"2024-02-01","deals_closed":22,"product":"Software Licenses","profit":23160.227480993497,"profit_margin":29.97142871359626,"region":"Asia Pacific","sales":77274.35252523373},{"date":"2024-02-01","deals_closed":9,"product":"Consulting","profit":37841.11209420174,"profit_margin":27.165813268979704,"region":"Asia Pacific","sales":139296.8129447169},{"date":"2024-02-01","deals_closed":8,"product":"Support","profit":22461.03582063435,"profit_margin":23.530342843355182,"region":"Asia Pacific","sales":95455.62497818515},{"date":"2024-02-01","deals_closed":13,"product":"Training","profit":18886.742291132694,"profit_margin":18.966675944288173,"region":"Asia Pacific","sales":99578.55739513726},{"date":"2024-02-01","deals_closed":19,"product":"Software Licenses","profit":20446.26290765244,"profit_margin":15.43047762332423,"region":"Latin America","sales":132505.7033668647},{"date":"2024-02-01","deals_closed":23,"product":"Consulting","profit":13149.83765019511,"profit_margin":26.0530995604594,"region":"Latin America","sales":50473.21766716971},{"date":"2024-02-01","deals_closed":5,"product":"Support","profit":32217.000246558273,"profit_margin":20.1911056546161,"region":"Latin America","sales":159560.35690988923},{"date":"2024-02-01","deals_closed":8,"product":"Training","profit":13102.097235945104,"profit_margin":19.067546587392478,"region":"Latin America","sales":68714.12206019337},{"date":"2024-03-01","deals_closed":24,"product":"Software Licenses","profit":21367.034960133635,"profit_margin":20.49897979781879,"region":"North America","sales":104234.62616616272},{"date":"2024-03-01","deals_closed":6,"product":"Consulting","profit":10208.885257362941,"profit_margin":15.01147390424142,"region":"North America","sales":68007.21449796125},{"date":"2024-03-01","deals_closed":17,"product":"Support","profit":28804.952688026722,"profit_margin":20.083980366569463,"region":"North America","sales":143422.52960958696},{"date":"2024-03-01","deals_closed":16,"product":"Training","profit":36887.05354803083,"profit_margin":25.40092169754704,"region":"North America","sales":145219.35064896877},{"date":"2024-03-01","deals_closed":21,"product":"Software Licenses","profit":17017.313085705322,"profit_margin":18.094197545877346,"region":"Europe","sales":94048.45416636126},{"date":"2024-03-01","deals_closed":9,"product":"Consulting","profit":20940.60437790195,"profit_margin":15.986498589068232,"region":"Europe","sales":130989.31114422639},{"date":"2024-03-01","deals_closed":22,"product":"Support","profit":30613.892780855513,"profit_margin":18.88328347367338,"region":"Europe","sales":162121.6607987518},{"date":"2024-03-01","deals_closed":6,"product":"Training","profit":21172.820676207688,"profit_margin":17.3730150638581,"region":"Europe","sales":121871.883483567},{"date":"2024-03-01","deals_closed":6,"product":"Software Licenses","profit":49321.07487742616,"profit_margin":25.576917552883604,"region":"Asia Pacific","sales":192834.3193641236},{"date":"2024-03-01","deals_closed":16,"product":"Consulting","profit":21269.031930890713,"profit_margin":23.989165881491854,"region":"Asia Pacific","sales":88660.98986501327},{"date":"2024-03-01","deals_closed":10,"product":"Support","profit":24069.310944585126,"profit_margin":18.58416809405055,"region":"Asia Pacific","sales":129515.13795385095},{"date":"2024-03-01","deals_closed":18,"product":"Training","profit":39007.85127011832,"profit_margin":25.907294270628167,"region":"Asia Pacific","sales":150567.0598505635},{"date":"2024-03-01","deals_closed":13,"product":"Software Licenses","profit":19363.517710895096,"profit_margin":15.53159994740997,"region":"Latin America","sales":124671.75163189888},{"date":"2024-03-01","deals_closed":7,"product":"Consulting","profit":31314.78458752977,"profit_margin":23.781707816979196,"region":"Latin America","sales":131675.92852676567},{"date":"2024-03-01","deals_closed":7,"product":"Support","profit":37602.61736965495,"profit_margin":25.581113606163697,"region":"Latin America","sales":146993.6686438651},{"date":"2024-03-01","deals_closed":11,"product":"Training","profit":58336.404011764695,"profit_margin":25.01702103988719,"region":"Latin America","sales":233186.8527381938},{"date":"2024-04-01","deals_closed":5,"product":"Software Licenses","profit":20288.074652256004,"profit_margin":16.13945628365819,"region":"North America","sales":125704.82112708125},{"date":"2024-04-01","deals_closed":19,"product":"Consulting","profit":23193.428012993532,"profit_margin":21.553072026678684,"region":"North America","sales":107610.77578307349},{"date":"2024-04-01","deals_closed":17,"product":"Support","profit":24742.92690568631,"profit_margin":21.897558189403256,"region":"North America","sales":112994.00002352771},{"date":"2024-04-01","deals_closed":24,"product":"Training","profit":36202.45038427154,"profit_margin":23.115055278881712,"region":"North America","sales":156618.4893243439},{"date":"2024-04-01","deals_closed":16,"product":"Software Licenses","profit":44343.03818450276,"profit_margin":27.05379394866128,"region":"Europe","sales":163906.9117945175},{"date":"2024-04-01","deals_closed":9,"product":"Consulting","profit":44109.981278341744,"profit_margin":26.09460938484027,"region":"Europe","sales":169038.67242392045},{"date":"2024-04-01","deals_closed":5,"product":"Support","profit":17838.21646473387,"profit_margin":23.868246930673205,"region":"Europe","sales":74736.18199336578},{"date":"2024-04-01","deals_closed":13,"product":"Training","profit":26450.302377346517,"profit_margin":18.17334247234416,"region":"Europe","sales":145544.5106897538},{"date":"2024-04-01","deals_closed":15,"product":"Software Licenses","profit":43628.85620890073,"profit_margin":26.034867307451577,"region":"Asia Pacific","sales":167578.56183278296},{"date":"2024-04-01","deals_closed":6,"product":"Consulting","profit":16843.913162035777,"profit_margin":21.293110245473777,"region":"Asia Pacific","sales":79104.9920272509},{"date":"2024-04-01","deals_closed":14,"product":"Support","profit":19086.965707970307,"profit_margin":15.200128468812057,"region":"Asia Pacific","sales":125571.08150193167},{"date":"2024-04-01","deals_closed":15,"product":"Training","profit":30839.594991627466,"profit_margin":21.240974187421628,"region":"Asia Pacific","sales":145189.17409112948},{"date":"2024-04-01","deals_closed":19,"product":"Software Licenses","profit":19750.33919872908,"profit_margin":16.068737923302965,"region":"Latin America","sales":122911.5770821493},{"date":"2024-04-01","deals_closed":14,"product":"Consulting","profit":24906.547013766187,"profit_margin":17.001964689779726,"region":"Latin America","sales":146492.1699827908},{"date":"2024-04-01","deals_closed":20,"product":"Support","profit":37426.839538083244,"profit_margin":26.80295007190966,"region":"Latin America","sales":139637.0154690836},{"date":"2024-04-01","deals_closed":7,"product":"Training","profit":24718.05921515161,"profit_margin":22.596585415258126,"region":"Latin America","sales":109388.4706954927},{"date":"2024-05-01","deals_closed":11,"product":"Software Licenses","profit":11460.031536657443,"profit_margin":16.592510844064424,"region":"North America","sales":69067.49463271858},{"date":"2024-05-01","deals_closed":10,"product":"Consulting","profit":47415.93239114235,"profit_margin":28.60732262146518,"region":"North America","sales":165747.5361065923},{"date":"2024-05-01","deals_closed":11,"product":"Support","profit":12057.664185985403,"profit_margin":15.916120972354046,"region":"North America","sales":75757.55554339717},{"date":"2024-05-01","deals_closed":20,"product":"Training","profit":18098.407131587304,"profit_margin":25.830754938522315,"region":"North America","sales":70065.34332682825},{"date":"2024-05-01","deals_closed":12,"product":"Software Licenses","profit":40166.832597872,"profit_margin":29.317618128493137,"region":"Europe","sales":137005.7841050694},{"date":"2024-05-01","deals_closed":19,"product":"Consulting","profit":23778.89094508818,"profit_margin":18.045144695978482,"region":"Europe","sales":131774.45426850754},{"date":"2024-05-01","deals_closed":15,"product":"Support","profit":18196.10110096567,"profit_margin":21.256587723614235,"region":"Europe","sales":85602.1734887927},{"date":"2024-05-01","deals_closed":15,"product":"Training","profit":20561.13146725731,"profit_margin":18.43426091357209,"region":"Europe","sales":111537.5960211094},{"date":"2024-05-01","deals_closed":9,"product":"Software Licenses","profit":27018.25225490537,"profit_margin":27.59576977557508,"region":"Asia Pacific","sales":97907.22445734827},{"date":"2024-05-01","deals_closed":10,"product":"Consulting","profit":25594.66310147822,"profit_margin":29.109319079822082,"region":"Asia Pacific","sales":87926.01101830602},{"date":"2024-05-01","deals_closed":17,"product":"Support","profit":50842.64547097411,"profit_margin":22.396039807378887,"region":"Asia Pacific","sales":227016.2310312685},{"date":"2024-05-01","deals_closed":15,"product":"Training","profit":14071.797855530993,"profit_margin":17.804264675476585,"region":"Asia Pacific","sales":79036.10798885363},{"date":"2024-05-01","deals_closed":18,"product":"Software Licenses","profit":31012.85936190574,"profit_margin":28.66975820042894,"region":"Latin America","sales":108172.72732157797},{"date":"2024-05-01","deals_closed":23,"product":"Consulting","profit":19675.361860264402,"profit_margin":27.613654755454764,"region":"Latin America","sales":71252.29179008894},{"date":"2024-05-01","deals_closed":13,"product":"Support","profit":11553.747188818736,"profit_margin":18.96809686462118,"region":"Latin America","sales":60911.47293943071},{"date":"2024-05-01","deals_closed":23,"product":"Training","profit":15425.494499602446,"profit_margin":20.30712857750423,"region":"Latin America","sales":75960.98306429425},{"date":"2024-06-01","deals_closed":12,"product":"Software Licenses","profit":20207.226659952204,"profit_margin":24.700467899415894,"region":"North America","sales":81809.08451709959},{"date":"2024-06-01","deals_closed":14,"product":"Consulting","profit":15181.492232086455,"profit_margin":15.18219945780597,"region":"North America","sales":99995.3417439846},{"date":"2024-06-01","deals_closed":5,"product":"Support","profit":17905.019347115027,"profit_margin":23.38850896239254,"region":"North America","sales":76554.7704469119},{"date":"2024-06-01","deals_closed":17,"product":"Training","profit":38050.70483860585,"profit_margin":26.95861354559933,"region":"North America","sales":141144.8877897401},{"date":"2024-06-01","deals_closed":15,"product":"Software Licenses","profit":25438.300001546282,"profit_margin":20.370370816772564,"region":"Europe","sales":124878.92454368519},{"date":"2024-06-01","deals_closed":10,"product":"Consulting","profit":36664.20054219314,"profit_margin":24.406959853594877,"region":"Europe","sales":150220.26816171824},{"date":"2024-06-01","deals_closed":9,"product":"Support","profit":27126.82404638065,"profit_margin":18.16661868487676,"region":"Europe","sales":149322.36161792194},{"date":"2024-06-01","deals_closed":21,"product":"Training","profit":28607.80227859304,"profit_margin":23.23064101670853,"region":"Europe","sales":123146.84841463054},{"date":"2024-06-01","deals_closed":19,"product":"Software Licenses","profit":13175.24876504124,"profit_margin":15.523992334856912,"region":"Asia Pacific","sales":84870.23492956832},{"date":"2024-06-01","deals_closed":14,"product":"Consulting","profit":34748.55975133919,"profit_margin":17.975117154761573,"region":"Asia Pacific","sales":193314.78872800764},{"date":"2024-06-01","deals_closed":18,"product":"Support","profit":14488.883996100642,"profit_margin":20.20626877879928,"region":"Asia Pacific","sales":71704.89591478955},{"date":"2024-06-01","deals_closed":21,"product":"Training","profit":37240.79661790621,"profit_margin":26.528224845641585,"region":"Asia Pacific","sales":140381.78896099274},{"date":"2024-06-01","deals_closed":23,"product":"Software Licenses","profit":45943.590296883645,"profit_margin":26.980676445844402,"region":"Latin America","sales":170283.31513148526},{"date":"2024-06-01","deals_closed":16,"product":"Consulting","profit":18135.99740539063,"profit_margin":20.300183905633762,"region":"Latin America","sales":89339.07933886982},{"date":"2024-06-01","deals_closed":23,"product":"Support","profit":20343.515374937535,"profit_margin":28.611457163038402,"region":"Latin America","sales":71102.68889491663},{"date":"2024-06-01","deals_closed":7,"product":"Training","profit":32335.0741177585,"profit_margin":15.632927482880321,"region":"Latin America","sales":206839.53247508354},{"date":"2024-07-01","deals_closed":12,"product":"Software Licenses","profit":31258.966158801828,"profit_margin":23.396431324974504,"region":"North America","sales":133605.701333752},{"date":"2024-07-01","deals_closed":23,"product":"Consulting","profit":38213.76925166935,"profit_margin":27.82981649054165,"region":"North America","sales":137312.32925900476},{"date":"2024-07-01","deals_closed":7,"product":"Support","profit":18149.122135158417,"profit_margin":23.148605770285716,"region":"North America","sales":78402.65766007906},{"date":"2024-07-01","deals_closed":11,"product":"Training","profit":11049.659620046556,"profit_margin":17.88802728454551,"region":"North America","sales":61771.25875469223},{"date":"2024-07-01","deals_closed":13,"product":"Software Licenses","profit":17759.042555830307,"profit_margin":25.64313034563044,"region":"Europe","sales":69254.58131072686},{"date":"2024-07-01","deals_closed":19,"product":"Consulting","profit":36515.999811184156,"profit_margin":25.622458205752718,"region":"Europe","sales":142515.59908090957},{"date":"2024-07-01","deals_closed":11,"product":"Support","profit":25292.988209211817,"profit_margin":15.788522285768286,"region":"Europe","sales":160198.5781279279},{"date":"2024-07-01","deals_closed":10,"product":"Training","profit":16754.964018156265,"profit_margin":24.64352073389761,"region":"Europe","sales":67989.32749535868},{"date":"2024-07-01","deals_closed":18,"product":"Software Licenses","profit":11297.464553225891,"profit_margin":15.576800278588365,"region":"Asia Pacific","sales":72527.50469398529},{"date":"2024-07-01","deals_closed":18,"product":"Consulting","profit":48569.395211840165,"profit_margin":28.579375654225515,"region":"Asia Pacific","sales":169945.61322636553},{"date":"2024-07-01","deals_closed":9,"product":"Support","profit":17238.79718663079,"profit_margin":16.334339677837512,"region":"Asia Pacific","sales":105537.15379153311},{"date":"2024-07-01","deals_closed":7,"product":"Training","profit":27163.058715583837,"profit_margin":29.977855202813252,"region":"Asia Pacific","sales":90610.41402666704},{"date":"2024-07-01","deals_closed":22,"product":"Software Licenses","profit":19092.105549956606,"profit_margin":25.135787512089973,"region":"Latin America","sales":75955.86786677585},{"date":"2024-07-01","deals_closed":10,"product":"Consulting","profit":33770.014480712394,"profit_margin":29.896617577101452,"region":"Latin America","sales":112955.97033216785},{"date":"2024-07-01","deals_closed":5,"product":"Support","profit":24125.575967619996,"profit_margin":19.783932662512132,"region":"Latin America","sales":121945.29964881395},{"date":"2024-07-01","deals_closed":21,"product":"Training","profit":22387.240968639748,"profit_margin":16.410578025282515,"region":"Latin America","sales":136419.57604509388},{"date":"2024-08-01","deals_closed":9,"product":"Software Licenses","profit":30693.221094274955,"profit_margin":18.680329912794534,"region":"North America","sales":164307.70354463896},{"date":"2024-08-01","deals_closed":19,"product":"Consulting","profit":18984.618393673572,"profit_margin":28.034442315656893,"region":"North America","sales":67718.90869065333},{"date":"2024-08-01","deals_closed":24,"product":"Support","profit":35800.09305225043,"profit_margin":29.40748057764086,"region":"North America","sales":121738.04878568892},{"date":"2024-08-01","deals_closed":7,"product":"Training","profit":26016.068530413246,"profit_margin":19.837727964861212,"region":"North America","sales":131144.3960543052},{"date":"2024-08-01","deals_closed":16,"product":"Software Licenses","profit":7574.1698911076755,"profit_margin":18.318790671463706,"region":"Europe","sales":41346.45144947489},{"date":"2024-08-01","deals_closed":6,"product":"Consulting","profit":25673.41715001401,"profit_margin":22.93541202191582,"region":"Europe","sales":111937.89379271626},{"date":"2024-08-01","deals_closed":5,"product":"Support","profit":26619.863910377357,"profit_margin":26.490365158589142,"region":"Europe","sales":100488.85227143133},{"date":"2024-08-01","deals_closed":17,"product":"Training","profit":17672.46191996395,"profit_margin":15.506432898576735,"region":"Europe","sales":113968.58346180973},{"date":"2024-08-01","deals_closed":20,"product":"Software Licenses","profit":13066.142226919843,"profit_margin":21.66382941745024,"region":"Asia Pacific","sales":60313.16982396034},{"date":"2024-08-01","deals_closed":7,"product":"Consulting","profit":20665.526166562293,"profit_margin":17.425889787007602,"region":"Asia Pacific","sales":118590.93807634487},{"date":"2024-08-01","deals_closed":19,"product":"Support","profit":27799.97571831492,"profit_margin":26.609728355188526,"region":"Asia Pacific","sales":104472.97825531657},{"date":"2024-08-01","deals_closed":16,"product":"Training","profit":16173.314401135625,"profit_margin":25.798196482230235,"region":"Asia Pacific","sales":62691.64750441289},{"date":"2024-08-01","deals_closed":21,"product":"Software Licenses","profit":16104.395981713471,"profit_margin":19.8504957946205,"region":"Latin America","sales":81128.43199653368},{"date":"2024-08-01","deals_closed":15,"product":"Consulting","profit":9788.934863459654,"profit_margin":18.250438306247727,"region":"Latin America","sales":53636.7110707066},{"date":"2024-08-01","deals_closed":8,"product":"Support","profit":13688.795678549634,"profit_margin":20.349931068219394,"region":"Latin America","sales":67267.03708558259},{"date":"2024-08-01","deals_closed":12,"product":"Training","profit":11241.399150244975,"profit_margin":16.794554390663645,"region":"Latin America","sales":66934.7866502147},{"date":"2024-09-01","deals_closed":6,"product":"Software Licenses","profit":20542.317843476176,"profit_margin":23.596958694826746,"region":"North America","sales":87054.93834669358},{"date":"2024-09-01","deals_closed":6,"product":"Consulting","profit":14840.997593451486,"profit_margin":15.51209667004423,"region":"North America","sales":95673.70490999635},{"date":"2024-09-01","deals_closed":21,"product":"Support","profit":8348.26289151465,"profit_margin":21.753354013785724,"region":"North America","sales":38376.89988506654},{"date":"2024-09-01","deals_closed":5,"product":"Training","profit":20465.549428236052,"profit_margin":27.13445361531222,"region":"North America","sales":75422.74378684064},{"date":"2024-09-01","deals_closed":10,"product":"Software Licenses","profit":17113.39219747859,"profit_margin":17.54461883457447,"region":"Europe","sales":97542.11453003425},{"date":"2024-09-01","deals_closed":21,"product":"Consulting","profit":14729.15777175673,"profit_margin":20.124393511740415,"region":"Europe","sales":73190.56727430744},{"date":"2024-09-01","deals_closed":24,"product":"Support","profit":27359.968522838743,"profit_margin":25.365089300833127,"region":"Europe","sales":107864.66469069397},{"date":"2024-09-01","deals_closed":16,"product":"Training","profit":12341.577133273588,"profit_margin":15.983101331649474,"region":"Europe","sales":77216.41048996542},{"date":"2024-09-01","deals_closed":8,"product":"Software Licenses","profit":16899.157581457544,"profit_margin":22.375468406671565,"region":"Asia Pacific","sales":75525.38018117564},{"date":"2024-09-01","deals_closed":11,"product":"Consulting","profit":22863.988005057534,"profit_margin":29.211786144996278,"region":"Asia Pacific","sales":78269.73637137192},{"date":"2024-09-01","deals_closed":24,"product":"Support","profit":19223.368943990128,"profit_margin":15.334193121254632,"region":"Asia Pacific","sales":125362.7679786081},{"date":"2024-09-01","deals_closed":20,"product":"Training","profit":12862.881570634217,"profit_margin":24.35459355426158,"region":"Asia Pacific","sales":52815.01225621342},{"date":"2024-09-01","deals_closed":21,"product":"Software Licenses","profit":13808.510092268916,"profit_margin":28.144987898147367,"region":"Latin America","sales":49062.057309244236},{"date":"2024-09-01","deals_closed":10,"product":"Consulting","profit":24006.520138812804,"profit_margin":27.133091349096013,"region":"Latin America","sales":88476.90751467811},{"date":"2024-09-01","deals_closed":14,"product":"Support","profit":15592.999825394305,"profit_margin":25.716771562806294,"region":"Latin America","sales":60633.582202620564},{"date":"2024-09-01","deals_closed":15,"product":"Training","profit":11972.94295146967,"profit_margin":15.35689326563078,"region":"Latin America","sales":77964.61656906543},{"date":"2024-10-01","deals_closed":17,"product":"Software Licenses","profit":19108.65057761074,"profit_margin":15.124621956390255,"region":"North America","sales":126341.34349081834},{"date":"2024-10-01","deals_closed":15,"product":"Consulting","profit":29975.292714771847,"profit_margin":28.02105376312477,"region":"North America","sales":106974.18080050516},{"date":"2024-10-01","deals_closed":20,"product":"Support","profit":9013.363990306842,"profit_margin":21.262622076912752,"region":"North America","sales":42390.651339722004},{"date":"2024-10-01","deals_closed":16,"product":"Training","profit":12629.389273165107,"profit_margin":20.929400652949866,"region":"North America","sales":60342.81383678837},{"date":"2024-10-01","deals_closed":20,"product":"Software Licenses","profit":18362.260793548932,"profit_margin":26.891019554990454,"region":"Europe","sales":68283.98884616203},{"date":"2024-10-01","deals_closed":16,"product":"Consulting","profit":20113.72442195884,"profit_margin":21.281659197881766,"region":"Europe","sales":94512.0125970292},{"date":"2024-10-01","deals_closed":23,"product":"Support","profit":14637.81643757695,"profit_margin":29.525961895592012,"region":"Europe","sales":49576.08659571649},{"date":"2024-10-01","deals_closed":14,"product":"Training","profit":17508.92597634584,"profit_margin":22.033157677133993,"region":"Europe","sales":79466.25823186751},{"date":"2024-10-01","deals_closed":18,"product":"Software Licenses","profit":9172.648127930774,"profit_margin":15.817432587329735,"region":"Asia Pacific","sales":57990.75214822382},{"date":"2024-10-01","deals_closed":17,"product":"Consulting","profit":23247.02061136071,"profit_margin":21.740310176459676,"region":"Asia Pacific","sales":106930.49189579868},{"date":"2024-10-01","deals_closed":24,"product":"Support","profit":15323.543328093372,"profit_margin":27.112913246801153,"region":"Asia Pacific","sales":56517.50952989636},{"date":"2024-10-01","deals_closed":6,"product":"Training","profit":29988.298368253407,"profit_margin":25.121980200537536,"region":"Asia Pacific","sales":119370.7587095851},{"date":"2024-10-01","deals_closed":16,"product":"Software Licenses","profit":10761.088622175546,"profit_margin":15.215031844543219,"region":"Latin America","sales":70726.69142020197},{"date":"2024-10-01","deals_closed":23,"product":"Consulting","profit":30817.131393652307,"profit_margin":28.69707445248975,"region":"Latin America","sales":107387.71105281996},{"date":"2024-10-01","deals_closed":7,"product":"Support","profit":21072.67438413025,"profit_margin":17.89431140725434,"region":"Latin America","sales":117761.86244074977},{"date":"2024-10-01","deals_closed":12,"product":"Training","profit":9161.833017503966,"profit_margin":17.507255911191823,"region":"Latin America","sales":52331.63360368258},{"date":"2024-11-01","deals_closed":15,"product":"Software Licenses","profit":29101.79767482915,"profit_margin":28.7031359270274,"region":"North America","sales":101388.91356266882},{"date":"2024-11-01","deals_closed":24,"product":"Consulting","profit":29956.60868573247,"profit_margin":20.71799186397499,"region":"North America","sales":144592.24080409954},{"date":"2024-11-01","deals_closed":7,"product":"Support","profit":10743.036242946544,"profit_margin":17.661089891492242,"region":"North America","sales":60828.84073944787},{"date":"2024-11-01","deals_closed":18,"product":"Training","profit":14039.888056192862,"profit_margin":16.692328383155388,"region":"North America","sales":84109.82418942126},{"date":"2024-11-01","deals_closed":17,"product":"Software Licenses","profit":12436.039746749519,"profit_margin":23.431530038340952,"region":"Europe","sales":53073.955163834624},{"date":"2024-11-01","deals_closed":11,"product":"Consulting","profit":8839.314119882392,"profit_margin":15.797271601435803,"region":"Europe","sales":55954.68852405496},{"date":"2024-11-01","deals_closed":8,"product":"Support","profit":9067.104795844476,"profit_margin":17.76169021675482,"region":"Europe","sales":51048.65970070442},{"date":"2024-11-01","deals_closed":23,"product":"Training","profit":41251.25841948358,"profit_margin":28.09051291221741,"region":"Europe","sales":146851.21111313766},{"date":"2024-11-01","deals_closed":16,"product":"Software Licenses","profit":32022.20109661271,"profit_margin":27.958672372468072,"region":"Asia Pacific","sales":114534.05465756715},{"date":"2024-11-01","deals_closed":21,"product":"Consulting","profit":15997.965160207224,"profit_margin":28.895314014188116,"region":"Asia Pacific","sales":55365.258021947564},{"date":"2024-11-01","deals_closed":8,"product":"Support","profit":18713.46314746996,"profit_margin":23.762806768945023,"region":"Asia Pacific","sales":78751.0639186196},{"date":"2024-11-01","deals_closed":11,"product":"Training","profit":8550.27978799988,"profit_margin":19.081388507221227,"region":"Asia Pacific","sales":44809.52622899577},{"date":"2024-11-01","deals_closed":12,"product":"Software Licenses","profit":17450.3046173646,"profit_margin":20.10129235973446,"region":"Latin America","sales":86811.85420853767},{"date":"2024-11-01","deals_closed":13,"product":"Consulting","profit":14206.158303846234,"profit_margin":21.779752430975975,"region":"Latin America","sales":65226.44529072657},{"date":"2024-11-01","deals_closed":10,"product":"Support","profit":15085.232643216543,"profit_margin":21.446703085779678,"region":"Latin America","sales":70338.2360583845},{"date":"2024-11-01","deals_closed":15,"product":"Training","profit":36160.46744139454,"profit_margin":28.387548595116574,"region":"Latin America","sales":127381.4373940521},{"date":"2024-12-01","deals_closed":16,"product":"Software Licenses","profit":31448.473915151015,"profit_margin":28.40396650775741,"region":"North America","sales":110718.5994834986},{"date":"2024-12-01","deals_closed":7,"product":"Consulting","profit":19965.49370250444,"profit_margin":20.563984929933195,"region":"North America","sales":97089.61453984736},{"date":"2024-12-01","deals_closed":7,"product":"Support","profit":24362.79775453327,"profit_margin":18.725916233738932,"region":"North America","sales":130102.03319524752},{"date":"2024-12-01","deals_closed":24,"product":"Training","profit":25670.0022561669,"profit_margin":19.98463692889588,"region":"North America","sales":128448.67959072362},{"date":"2024-12-01","deals_closed":23,"product":"Software Licenses","profit":15490.552628136475,"profit_margin":21.618495201257936,"region":"Europe","sales":71654.16687853052},{"date":"2024-12-01","deals_closed":6,"product":"Consulting","profit":31119.612513923123,"profit_margin":23.38141401108048,"region":"Europe","sales":133095.51124314166},{"date":"2024-12-01","deals_closed":14,"product":"Support","profit":32157.185642667428,"profit_margin":29.462740607689756,"region":"Europe","sales":109145.26272642275},{"date":"2024-12-01","deals_closed":10,"product":"Training","profit":11458.819137360982,"profit_margin":16.82424662609025,"region":"Europe","sales":68108.958410008},{"date":"2024-12-01","deals_closed":22,"product":"Software Licenses","profit":26005.879108871344,"profit_margin":17.33460696253525,"region":"Asia Pacific","sales":150022.89446237255},{"date":"2024-12-01","deals_closed":14,"product":"Consulting","profit":18028.99298595874,"profit_margin":25.704384048338657,"region":"Asia Pacific","sales":70139.7588522414},{"date":"2024-12-01","deals_closed":24,"product":"Support","profit":38636.2545772282,"profit_margin":24.577649289676735,"region":"Asia Pacific","sales":157200.77262822876},{"date":"2024-12-01","deals_closed":14,"product":"Training","profit":37584.45401943614,"profit_margin":25.709439395624102,"region":"Asia Pacific","sales":146189.31763184708},{"date":"2024-12-01","deals_closed":16,"product":"Software Licenses","profit":26905.9262938967,"profit_margin":15.788903055530481,"region":"Latin America","sales":170410.35846041367},{"date":"2024-12-01","deals_closed":14,"product":"Consulting","profit":21085.386766198015,"profit_margin":17.399399272492666,"region":"Latin America","sales":121184.56755879302},{"date":"2024-12-01","deals_closed":6,"product":"Support","profit":21196.696085446536,"profit_margin":19.395177767908894,"region":"Latin America","sales":109288.48572101473},{"date":"2024-12-01","deals_closed":13,"product":"Training","profit":32582.57574611537,"profit_margin":22.56684027948995,"region":"Latin America","sales":144382.53358724882}],"fields":["date","deals_closed","product","profit","profit_margin","region","sales"],"numericFields":["deals_closed","profit","profit_margin","sales"],"dateFields":["date"],"categories":{"product":["Software Licenses","Consulting","Support","Training"],"region":["North America","Europe","Asia Pacific","Latin America"]},"summary":{"recordCount":192,"fieldTypes":{"date":"date","deals_closed":"numeric","product":"string","profit":"numeric","profit_margin":"numeric","region":"string","sales":"numeric"},"numericStats":{"deals_closed":{"min":5,"max":24,"mean":14.447916666666666,"stdDev":5.737068414535034,"count":192},"profit":{"min":7574.1698911076755,"max":58336.404011764695,"mean":23300.899269962083,"stdDev":9857.800882717336,"count":192},"profit_margin":{"min":15.01147390424142,"max":29.977855202813252,"mean":22.040040429595454,"stdDev":4.437097267576781,"count":192},"sales":{"min":38376.89988506654,"max":233186.8527381938,"mean":105510.13977315446,"stdDev":37810.91483903475,"count":192}}}};
        let chartConfig = {"title":"ðŸ“Š Sales Performance Dashboard - Interactive Analytics","width":1400,"height":700,"chartType":"line","timeFormat":"","xAxisType":"category","yAxisType":"linear","showLegend":true,"showTooltips":true,"enableZoom":true,"enablePan":true,"enableAnimations":true,"showDataLabels":false,"enableInteractive":true,"enableCalculations":true,"colorScheme":"vibrant","theme":"light","exportFormats":["png","csv"],"customCSS":"","fields":{}};
        let mainChart = null;

        
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            createChart();
            updateDataSummary();
        });

        
        function initializeControls() {
            
            const xFieldSelect = document.getElementById('xField');
            const yFieldsDiv = document.getElementById('yFields');

            chartData.fields.forEach(field => {
                
                const option = document.createElement('option');
                option.value = field;
                option.textContent = field;
                xFieldSelect.appendChild(option);

                
                const checkDiv = document.createElement('div');
                checkDiv.className = 'form-check';
                checkDiv.innerHTML = `
                    <input class="form-check-input" type="checkbox" id="y_${field}" value="${field}">
                    <label class="form-check-label" for="y_${field}">${field}</label>
                `;
                yFieldsDiv.appendChild(checkDiv);
            });

            
            if (chartData.fields.length > 0) {
                xFieldSelect.value = chartData.fields[0];
            }

            
            chartData.numericFields.forEach(field => {
                const checkbox = document.getElementById(`y_${field}`);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });

            
            document.getElementById('chartType').value = chartConfig.chartType;
        }

        
        function createChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');

            if (mainChart) {
                mainChart.destroy();
            }

            const chartType = document.getElementById('chartType').value;
            const xField = document.getElementById('xField').value;
            const selectedYFields = getSelectedYFields();
            const showTrendLine = document.getElementById('showTrendLine').checked;
            const showMovingAvg = document.getElementById('showMovingAvg').checked;
            const stackedMode = document.getElementById('stackedMode').checked;

            
            const labels = chartData.records.map(record => record[xField]);
            const datasets = [];

            
            const colors = generateColors(selectedYFields.length);

            selectedYFields.forEach((field, index) => {
                const data = chartData.records.map(record => {
                    const value = record[field];
                    return typeof value === 'number' ? value : parseFloat(value) || 0;
                });

                datasets.push({
                    label: field,
                    data: data,
                    backgroundColor: colors[index] + '80', 
                    borderColor: colors[index],
                    borderWidth: 2,
                    fill: chartType === 'area',
                    tension: 0.4
                });

                
                if (showMovingAvg && data.length > 5) {
                    const movingAvgData = calculateMovingAverage(data, 5);
                    datasets.push({
                        label: `${field} (5-period MA)`,
                        data: movingAvgData,
                        backgroundColor: 'transparent',
                        borderColor: colors[index],
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.1,
                        pointRadius: 0
                    });
                }
            });

            
            const config = {
                type: chartType,
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: chartData.dateFields.includes(xField) ? 'time' : 'category',
                            title: {
                                display: true,
                                text: xField
                            }
                        },
                        y: {
                            stacked: stackedMode,
                            title: {
                                display: true,
                                text: 'Values'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: chartConfig.showLegend
                        },
                        tooltip: {
                            enabled: chartConfig.showTooltips,
                            mode: 'index',
                            intersect: false
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: chartConfig.enableZoom
                                },
                                pinch: {
                                    enabled: chartConfig.enableZoom
                                },
                                mode: 'x'
                            },
                            pan: {
                                enabled: chartConfig.enablePan,
                                mode: 'x'
                            }
                        }
                    },
                    animation: {
                        duration: chartConfig.enableAnimations ? 1000 : 0
                    }
                }
            };

            mainChart = new Chart(ctx, config);
        }

        
        function getSelectedYFields() {
            const checkboxes = document.querySelectorAll('#yFields input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function generateColors(count) {
            const colors = [
                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#36A2EB'
            ];

            const result = [];
            for (let i = 0; i < count; i++) {
                result.push(colors[i % colors.length]);
            }
            return result;
        }

        function calculateMovingAverage(data, period) {
            const result = [];
            for (let i = 0; i < data.length; i++) {
                if (i < period - 1) {
                    result.push(null);
                } else {
                    const sum = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b, 0);
                    result.push(sum / period);
                }
            }
            return result;
        }

        function updateChart() {
            createChart();
        }

        function resetZoom() {
            if (mainChart) {
                mainChart.resetZoom();
            }
        }

        function exportChart() {
            if (mainChart) {
                const url = mainChart.toBase64Image();
                const link = document.createElement('a');
                link.download = 'chart.png';
                link.href = url;
                link.click();
            }
        }

        function updateDataSummary() {
            const summaryDiv = document.getElementById('dataSummary');
            let html = `
                <div class="col-md-3">
                    <strong>Records:</strong> ${chartData.summary.recordCount}
                </div>
                <div class="col-md-3">
                    <strong>Fields:</strong> ${chartData.fields.length}
                </div>
                <div class="col-md-3">
                    <strong>Numeric Fields:</strong> ${chartData.numericFields.length}
                </div>
                <div class="col-md-3">
                    <strong>Date Fields:</strong> ${chartData.dateFields.length}
                </div>
            `;

            
            for (const [field, stats] of Object.entries(chartData.summary.numericStats)) {
                html += `
                    <div class="col-md-12 mt-2">
                        <small><strong>${field}:</strong>
                        Min: ${stats.min.toFixed(2)},
                        Max: ${stats.max.toFixed(2)},
                        Mean: ${stats.mean.toFixed(2)},
                        StdDev: ${stats.stdDev.toFixed(2)}
                        </small>
                    </div>
                `;
            }

            summaryDiv.innerHTML = html;
        }
    </script>
</body>
</html>